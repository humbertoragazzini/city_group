"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[152],{4307:function(e,t,r){r.d(t,{j:function(){return u}});var n=r(2988),i=r(2265),a=r(7776),o=r(5238);let s={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},l={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},u=i.forwardRef(({scale:e=10,frames:t=1/0,opacity:r=1,width:u=1,height:c=1,blur:d=1,near:f=0,far:h=10,resolution:p=512,smooth:v=!0,color:g="#000000",depthWrite:m=!1,renderOrder:y,...b},w)=>{let _,x;let M=i.useRef(null),E=(0,o.A)(e=>e.scene),S=(0,o.A)(e=>e.gl),k=i.useRef(null);u*=Array.isArray(e)?e[0]:e||1,c*=Array.isArray(e)?e[1]:e||1;let[T,A,C,P,I,R,D]=i.useMemo(()=>{let e=new a.WebGLRenderTarget(p,p),t=new a.WebGLRenderTarget(p,p);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;let r=new a.PlaneGeometry(u,c).rotateX(Math.PI/2),n=new a.Mesh(r),i=new a.MeshDepthMaterial;i.depthTest=i.depthWrite=!1,i.onBeforeCompile=e=>{e.uniforms={...e.uniforms,ucolor:{value:new a.Color(g)}},e.fragmentShader=e.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};let o=new a.ShaderMaterial(s),d=new a.ShaderMaterial(l);return d.depthTest=o.depthTest=!1,[e,r,i,n,o,d,t]},[p,u,c,e,g]),O=e=>{P.visible=!0,P.material=I,I.uniforms.tDiffuse.value=T.texture,I.uniforms.h.value=1*e/256,S.setRenderTarget(D),S.render(P,k.current),P.material=R,R.uniforms.tDiffuse.value=D.texture,R.uniforms.v.value=1*e/256,S.setRenderTarget(T),S.render(P,k.current),P.visible=!1},U=0;return(0,o.C)(()=>{k.current&&(t===1/0||U<t)&&(U++,_=E.background,x=E.overrideMaterial,M.current.visible=!1,E.background=null,E.overrideMaterial=C,S.setRenderTarget(T),S.render(E,k.current),O(d),v&&O(.4*d),S.setRenderTarget(null),M.current.visible=!0,E.overrideMaterial=x,E.background=_)}),i.useImperativeHandle(w,()=>M.current,[]),i.createElement("group",(0,n.Z)({"rotation-x":Math.PI/2},b,{ref:M}),i.createElement("mesh",{renderOrder:y,geometry:A,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},i.createElement("meshBasicMaterial",{transparent:!0,map:T.texture,opacity:r,depthWrite:m})),i.createElement("orthographicCamera",{ref:k,args:[-u/2,u/2,c/2,-c/2,f,h]}))})},7187:function(e,t,r){let n;r.d(t,{qA:function(){return ek}});var i=r(2988),a=r(2265),o=r(5238),s=r(7776);let l=e=>e&&e.isCubeTexture;class u extends s.Mesh{constructor(e,t){var r,n;let i=l(e),a=Math.floor(Math.log2((null!=(n=i?null==(r=e.image[0])?void 0:r.width:e.image.width)?n:1024)/4)),o=Math.pow(2,a),u=3*Math.max(o,112),c=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,d=[i?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*o)}`,`#define CUBEUV_MAX_MIP ${a}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(s.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `;super(new s.IcosahedronGeometry(1,16),new s.ShaderMaterial({uniforms:{map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}},fragmentShader:d,vertexShader:c,side:s.DoubleSide}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class c extends s.DataTextureLoader{constructor(e){super(e),this.type=s.HalfFloatType}parse(e){let t,r,n;let i=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},a=function(e,t,r){t=t||1024;let n=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));for(;0>(i=s.indexOf("\n"))&&a<t&&n<e.byteLength;)o+=s,a+=s.length,n+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return -1<i&&(!1!==r&&(e.pos+=a+i+1),o+s.slice(0,i))},o=new Uint8Array(e);o.pos=0;let l=function(e){let t,r;let n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=a(e))||i(1,"no header found"),(r=t.match(/^#\?(\S+)/))||i(3,"bad initial token"),u.valid|=1,u.programtype=r[1],u.string+=t+"\n";!1!==(t=a(e));){if(u.string+=t+"\n","#"===t.charAt(0)){u.comments+=t+"\n";continue}if((r=t.match(n))&&(u.gamma=parseFloat(r[1])),(r=t.match(o))&&(u.exposure=parseFloat(r[1])),(r=t.match(s))&&(u.valid|=2,u.format=r[1]),(r=t.match(l))&&(u.valid|=4,u.height=parseInt(r[1],10),u.width=parseInt(r[2],10)),2&u.valid&&4&u.valid)break}return 2&u.valid||i(3,"missing format specifier"),4&u.valid||i(3,"missing image size specifier"),u}(o),u=l.width,c=l.height,d=function(e,t,r){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&i(3,"wrong scanline width");let n=new Uint8Array(4*t*r);n.length||i(4,"unable to allocate buffer space");let a=0,o=0,s=4*t,l=new Uint8Array(4),u=new Uint8Array(s),c=r;for(;c>0&&o<e.byteLength;){o+4>e.byteLength&&i(1),l[0]=e[o++],l[1]=e[o++],l[2]=e[o++],l[3]=e[o++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=t)&&i(3,"bad rgbe scanline format");let r=0,d;for(;r<s&&o<e.byteLength;){let t=(d=e[o++])>128;if(t&&(d-=128),(0===d||r+d>s)&&i(3,"bad scanline data"),t){let t=e[o++];for(let e=0;e<d;e++)u[r++]=t}else u.set(e.subarray(o,o+d),r),r+=d,o+=d}for(let e=0;e<t;e++){let r=0;n[a]=u[e+r],r+=t,n[a+1]=u[e+r],r+=t,n[a+2]=u[e+r],r+=t,n[a+3]=u[e+r],a+=4}c--}return n}(o.subarray(o.pos),u,c);switch(this.type){case s.FloatType:let f=new Float32Array(4*(n=d.length/4));for(let e=0;e<n;e++)!function(e,t,r,n){let i=Math.pow(2,e[t+3]-128)/255;r[n+0]=e[t+0]*i,r[n+1]=e[t+1]*i,r[n+2]=e[t+2]*i,r[n+3]=1}(d,4*e,f,4*e);t=f,r=s.FloatType;break;case s.HalfFloatType:let h=new Uint16Array(4*(n=d.length/4));for(let e=0;e<n;e++)!function(e,t,r,n){let i=Math.pow(2,e[t+3]-128)/255;r[n+0]=s.DataUtils.toHalfFloat(Math.min(e[t+0]*i,65504)),r[n+1]=s.DataUtils.toHalfFloat(Math.min(e[t+1]*i,65504)),r[n+2]=s.DataUtils.toHalfFloat(Math.min(e[t+2]*i,65504)),r[n+3]=s.DataUtils.toHalfFloat(1)}(d,4*e,h,4*e);t=h,r=s.HalfFloatType;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:u,height:c,data:t,header:l.string,gamma:l.gamma,exposure:l.exposure,type:r}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){switch(e.type){case s.FloatType:case s.HalfFloatType:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=s.LinearFilter,e.magFilter=s.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,n)}}var d={},f=Uint8Array,h=Uint16Array,p=Uint32Array,v=new f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),g=new f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m=new f([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y=function(e,t){for(var r=new h(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new p(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},b=y(v,2),w=b[0],_=b[1];w[28]=258,_[258]=28;for(var x=y(g,0),M=x[0],E=x[1],S=new h(32768),k=0;k<32768;++k){var T=(43690&k)>>>1|(21845&k)<<1;T=(61680&(T=(52428&T)>>>2|(13107&T)<<2))>>>4|(3855&T)<<4,S[k]=((65280&T)>>>8|(255&T)<<8)>>>1}for(var A=function(e,t,r){for(var n,i=e.length,a=0,o=new h(t);a<i;++a)++o[e[a]-1];var s=new h(t);for(a=0;a<t;++a)s[a]=s[a-1]+o[a-1]<<1;if(r){n=new h(1<<t);var l=15-t;for(a=0;a<i;++a)if(e[a])for(var u=a<<4|e[a],c=t-e[a],d=s[e[a]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)n[S[d]>>>l]=u}else for(a=0,n=new h(i);a<i;++a)e[a]&&(n[a]=S[s[e[a]-1]++]>>>15-e[a]);return n},C=new f(288),k=0;k<144;++k)C[k]=8;for(var k=144;k<256;++k)C[k]=9;for(var k=256;k<280;++k)C[k]=7;for(var k=280;k<288;++k)C[k]=8;for(var P=new f(32),k=0;k<32;++k)P[k]=5;var I=A(C,9,1),R=A(P,5,1),D=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},O=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},U=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},F=function(e){return(e/8|0)+(7&e&&1)},L=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof h?h:e instanceof p?p:f)(r-t);return n.set(e.subarray(t,r)),n},B=function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new f(0);var i=!t||r,a=!r||r.i;r||(r={}),t||(t=new f(3*n));var o=function(e){var r=t.length;if(e>r){var n=new f(Math.max(2*r,e));n.set(t),t=n}},s=r.f||0,l=r.p||0,u=r.b||0,c=r.l,d=r.d,h=r.m,p=r.n,y=8*n;do{if(!c){r.f=s=O(e,l,1);var b=O(e,l+1,3);if(l+=3,b){if(1==b)c=I,d=R,h=9,p=5;else if(2==b){var _=O(e,l,31)+257,x=O(e,l+10,15)+4,E=_+O(e,l+5,31)+1;l+=14;for(var S=new f(E),k=new f(19),T=0;T<x;++T)k[m[T]]=O(e,l+3*T,7);l+=3*x;for(var C=D(k),P=(1<<C)-1,B=A(k,C,1),T=0;T<E;){var j=B[O(e,l,P)];l+=15&j;var N=j>>>4;if(N<16)S[T++]=N;else{var z=0,V=0;for(16==N?(V=3+O(e,l,3),l+=2,z=S[T-1]):17==N?(V=3+O(e,l,7),l+=3):18==N&&(V=11+O(e,l,127),l+=7);V--;)S[T++]=z}}var W=S.subarray(0,_),H=S.subarray(_);h=D(W),p=D(H),c=A(W,h,1),d=A(H,p,1)}else throw"invalid block type"}else{var N=F(l)+4,q=e[N-4]|e[N-3]<<8,G=N+q;if(G>n){if(a)throw"unexpected EOF";break}i&&o(u+q),t.set(e.subarray(N,G),u),r.b=u+=q,r.p=l=8*G;continue}if(l>y){if(a)throw"unexpected EOF";break}}i&&o(u+131072);for(var X=(1<<h)-1,$=(1<<p)-1,Y=l;;Y=l){var z=c[U(e,l)&X],K=z>>>4;if((l+=15&z)>y){if(a)throw"unexpected EOF";break}if(!z)throw"invalid length/literal";if(K<256)t[u++]=K;else if(256==K){Y=l,c=null;break}else{var Z=K-254;if(K>264){var T=K-257,Q=v[T];Z=O(e,l,(1<<Q)-1)+w[T],l+=Q}var J=d[U(e,l)&$],ee=J>>>4;if(!J)throw"invalid distance";l+=15&J;var H=M[ee];if(ee>3){var Q=g[ee];H+=U(e,l)&(1<<Q)-1,l+=Q}if(l>y){if(a)throw"unexpected EOF";break}i&&o(u+131072);for(var et=u+Z;u<et;u+=4)t[u]=t[u-H],t[u+1]=t[u+1-H],t[u+2]=t[u+2-H],t[u+3]=t[u+3-H];u=et}}r.l=c,r.p=Y,r.b=u,c&&(s=1,r.m=h,r.d=d,r.n=p)}while(!s);return u==t.length?t:L(t,0,u)},j=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},N=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},z=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[$,0];if(1==i){var o=new f(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,c=1,d=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=r[r[u].f<r[d].f?u++:d++],l=r[u!=c&&r[u].f<r[d].f?u++:d++],r[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var v=new h(p+1),g=V(r[c-1],v,0);if(g>t){var n=0,m=0,y=g-t,b=1<<y;for(a.sort(function(e,t){return v[t.s]-v[e.s]||e.f-t.f});n<i;++n){var w=a[n].s;if(v[w]>t)m+=b-(1<<g-v[w]),v[w]=t;else break}for(m>>>=y;m>0;){var _=a[n].s;v[_]<t?m-=1<<t-v[_]++-1:++n}for(;n>=0&&m;--n){var x=a[n].s;v[x]==t&&(--v[x],++m)}g=t}return[new f(v),g]},V=function(e,t,r){return -1==e.s?Math.max(V(e.l,t,r+1),V(e.r,t,r+1)):t[e.s]=r},W=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new h(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},H=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},q=function(e,t,r){var n=r.length,i=F(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},G=function(e,t,r,n,i,a,o,s,l,u,c){j(t,c++,r),++i[256];for(var d,f,p,y,b=z(i,15),w=b[0],_=b[1],x=z(a,15),M=x[0],E=x[1],S=W(w),k=S[0],T=S[1],I=W(M),R=I[0],D=I[1],O=new h(19),U=0;U<k.length;++U)O[31&k[U]]++;for(var U=0;U<R.length;++U)O[31&R[U]]++;for(var F=z(O,7),L=F[0],B=F[1],V=19;V>4&&!L[m[V-1]];--V);var G=u+5<<3,X=H(i,C)+H(a,P)+o,$=H(i,w)+H(a,M)+o+14+3*V+H(O,L)+(2*O[16]+3*O[17]+7*O[18]);if(G<=X&&G<=$)return q(t,c,e.subarray(l,l+u));if(j(t,c,1+($<X)),c+=2,$<X){d=A(w,_,0),f=w,p=A(M,E,0),y=M;var Y=A(L,B,0);j(t,c,T-257),j(t,c+5,D-1),j(t,c+10,V-4),c+=14;for(var U=0;U<V;++U)j(t,c+3*U,L[m[U]]);c+=3*V;for(var K=[k,R],Z=0;Z<2;++Z)for(var Q=K[Z],U=0;U<Q.length;++U){var J=31&Q[U];j(t,c,Y[J]),c+=L[J],J>15&&(j(t,c,Q[U]>>>5&127),c+=Q[U]>>>12)}}else d=null,f=C,p=null,y=P;for(var U=0;U<s;++U)if(n[U]>255){var J=n[U]>>>18&31;N(t,c,d[J+257]),c+=f[J+257],J>7&&(j(t,c,n[U]>>>23&31),c+=v[J]);var ee=31&n[U];N(t,c,p[ee]),c+=y[ee],ee>3&&(N(t,c,n[U]>>>5&8191),c+=g[ee])}else N(t,c,d[n[U]]),c+=f[n[U]];return N(t,c,d[256]),c+f[256]},X=new p([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$=new f(0),Y=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function K(e,t){return B((Y(e),e.subarray(2,-4)),t)}var Z="undefined"!=typeof TextDecoder&&new TextDecoder;try{Z.decode($,{stream:!0})}catch(e){}let Q="colorSpace"in new s.Texture;class J extends s.DataTextureLoader{constructor(e){super(e),this.type=s.HalfFloatType}parse(e){let t={l:0,c:0,lc:0};function r(e,r,n,i,a){for(;n<e;)r=r<<8|k(i,a),n+=8;n-=e,t.l=r>>n&(1<<e)-1,t.c=r,t.lc=n}let n=Array(59),i={c:0,lc:0};function a(e,t,r,n){e=e<<8|k(r,n),t+=8,i.c=e,i.lc=t}let o={c:0,lc:0};function l(e,t,r,n,s,l,u,c,d,f){if(e==t){n<8&&(a(r,n,s,u),r=i.c,n=i.lc);var h=r>>(n-=8),h=new Uint8Array([h])[0];if(d.value+h>f)return!1;for(var p=c[d.value-1];h-- >0;)c[d.value++]=p}else{if(!(d.value<f))return!1;c[d.value++]=e}o.c=r,o.lc=n}function u(e){var t=65535&e;return t>32767?t-65536:t}let c={a:0,b:0};function d(e,t){var r=u(e),n=u(t),i=r+(1&n)+(n>>1),a=i-n;c.a=i,c.b=a}function f(e,t){var r=65535&t,n=(65535&e)-(r>>1)&65535;c.a=r+n-32768&65535,c.b=n}function h(e,s,u,c,d,f){var h=u.value,p=S(s,u),v=S(s,u);u.value+=4;var g=S(s,u);if(u.value+=4,p<0||p>=65537||v<0||v>=65537)throw"Something wrong with HUF_ENCSIZE";var m=Array(65537),y=Array(16384);!function(e){for(var t=0;t<16384;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(y);var b=c-(u.value-h);if(!function(e,i,a,o,s,l,u){for(var c=0,d=0;s<=l;s++){if(a.value-a.value>o)return!1;r(6,c,d,e,a);var f=t.l;if(c=t.c,d=t.lc,u[s]=f,63==f){if(a.value-a.value>o)throw"Something wrong with hufUnpackEncTable";r(8,c,d,e,a);var h=t.l+6;if(c=t.c,d=t.lc,s+h>l+1)throw"Something wrong with hufUnpackEncTable";for(;h--;)u[s++]=0;s--}else if(f>=59){var h=f-59+2;if(s+h>l+1)throw"Something wrong with hufUnpackEncTable";for(;h--;)u[s++]=0;s--}}!function(e){for(var t=0;t<=58;++t)n[t]=0;for(var t=0;t<65537;++t)n[e[t]]+=1;for(var r=0,t=58;t>0;--t){var i=r+n[t]>>1;n[t]=r,r=i}for(var t=0;t<65537;++t){var a=e[t];a>0&&(e[t]=a|n[a]++<<6)}}(u)}(e,0,u,b,p,v,m),g>8*(c-(u.value-h)))throw"Something wrong with hufUncompress";!function(e,t,r,n){for(;t<=r;t++){var i=e[t]>>6,a=63&e[t];if(i>>a)throw"Invalid table entry";if(a>14){var o=n[i>>a-14];if(o.len)throw"Invalid table entry";if(o.lit++,o.p){var s=o.p;o.p=Array(o.lit);for(var l=0;l<o.lit-1;++l)o.p[l]=s[l]}else o.p=[,];o.p[o.lit-1]=t}else if(a)for(var u=0,l=1<<14-a;l>0;l--){var o=n[(i<<14-a)+u];if(o.len||o.p)throw"Invalid table entry";o.len=a,o.lit=t,u++}}}(m,p,v,y),function(e,t,r,n,s,u,c,d,f,h){for(var p=0,v=0,g=Math.trunc(s.value+(u+7)/8);s.value<g;)for(a(p,v,r,s),p=i.c,v=i.lc;v>=14;){var m=t[p>>v-14&16383];if(m.len)v-=m.len,l(m.lit,c,p,v,r,n,s,f,h,d),p=o.c,v=o.lc;else{if(!m.p)throw"hufDecode issues";for(y=0;y<m.lit;y++){for(var y,b=63&e[m.p[y]];v<b&&s.value<g;)a(p,v,r,s),p=i.c,v=i.lc;if(v>=b&&e[m.p[y]]>>6==(p>>v-b&(1<<b)-1)){v-=b,l(m.p[y],c,p,v,r,n,s,f,h,d),p=o.c,v=o.lc;break}}if(y==m.lit)throw"hufDecode issues"}}var w=8-u&7;for(p>>=w,v-=w;v>0;){var m=t[p<<14-v&16383];if(m.len)v-=m.len,l(m.lit,c,p,v,r,n,s,f,h,d),p=o.c,v=o.lc;else throw"hufDecode issues"}}(m,y,e,s,u,g,v,f,d,{value:0})}function p(e){for(var t=1;t<e.length;t++){var r=e[t-1]+e[t]-128;e[t]=r}}function v(e,t){for(var r=0,n=Math.floor((e.length+1)/2),i=0,a=e.length-1;!(i>a)&&(t[i++]=e[r++],!(i>a));)t[i++]=e[n++]}function g(e){for(var t=e.byteLength,r=[],n=0,i=new DataView(e);t>0;){var a=i.getInt8(n++);if(a<0){var o=-a;t-=o+1;for(var s=0;s<o;s++)r.push(i.getUint8(n++))}else{var o=a;t-=2;for(var l=i.getUint8(n++),s=0;s<o+1;s++)r.push(l)}}return r}function m(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function y(e){var t=new Uint8Array(g(e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size))),r=new Uint8Array(t.length);return p(t),v(t,r),new DataView(r.buffer)}function b(e){var t=K(e.array.slice(e.offset.value,e.offset.value+e.size)),r=new Uint8Array(t.length);return p(t),v(t,r),new DataView(r.buffer)}function w(e){for(var t=e.viewer,r={value:e.offset.value},n=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),i=new Uint8Array(8192),a=0,o=Array(e.channels),s=0;s<e.channels;s++)o[s]={},o[s].start=a,o[s].end=o[s].start,o[s].nx=e.width,o[s].ny=e.lines,o[s].size=e.type,a+=o[s].nx*o[s].ny*o[s].size;var l=R(t,r),u=R(t,r);if(u>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(l<=u)for(var s=0;s<u-l+1;s++)i[s+l]=T(t,r);var p=new Uint16Array(65536),v=function(e,t){for(var r=0,n=0;n<65536;++n)(0==n||e[n>>3]&1<<(7&n))&&(t[r++]=n);for(var i=r-1;r<65536;)t[r++]=0;return i}(i,p),g=S(t,r);h(e.array,t,r,g,n,a);for(var s=0;s<e.channels;++s)for(var m=o[s],y=0;y<o[s].size;++y)!function(e,t,r,n,i,a,o){for(var s=o<16384,l=r>i?i:r,u=1;u<=l;)u<<=1;for(u>>=1,h=u,u>>=1;u>=1;){for(var h,p,v,g,m,y=0,b=0+a*(i-h),w=a*u,_=a*h,x=n*u,M=n*h;y<=b;y+=_){for(var E=y,S=y+n*(r-h);E<=S;E+=M){var k=E+x,T=E+w,A=T+x;s?(d(e[E+t],e[T+t]),p=c.a,g=c.b,d(e[k+t],e[A+t]),v=c.a,m=c.b,d(p,v),e[E+t]=c.a,e[k+t]=c.b,d(g,m)):(f(e[E+t],e[T+t]),p=c.a,g=c.b,f(e[k+t],e[A+t]),v=c.a,m=c.b,f(p,v),e[E+t]=c.a,e[k+t]=c.b,f(g,m)),e[T+t]=c.a,e[A+t]=c.b}if(r&u){var T=E+w;s?d(e[E+t],e[T+t]):f(e[E+t],e[T+t]),p=c.a,e[T+t]=c.b,e[E+t]=p}}if(i&u)for(var E=y,S=y+n*(r-h);E<=S;E+=M){var k=E+x;s?d(e[E+t],e[k+t]):f(e[E+t],e[k+t]),p=c.a,e[k+t]=c.b,e[E+t]=p}h=u,u>>=1}}(n,m.start+y,m.nx,m.size,m.ny,m.nx*m.size,v);!function(e,t,r){for(var n=0;n<r;++n)t[n]=e[t[n]]}(p,n,a);for(var b=0,w=new Uint8Array(n.buffer.byteLength),_=0;_<e.lines;_++)for(var x=0;x<e.channels;x++){var m=o[x],M=m.nx*m.size,E=new Uint8Array(n.buffer,2*m.end,2*M);w.set(E,b),b+=2*M,m.end+=M}return new DataView(w.buffer)}function _(e){var t=K(e.array.slice(e.offset.value,e.offset.value+e.size));let r=e.lines*e.channels*e.width,n=1==e.type?new Uint16Array(r):new Uint32Array(r),i=0,a=0,o=[,,,,];for(let r=0;r<e.lines;r++)for(let r=0;r<e.channels;r++){let r=0;switch(e.type){case 1:o[0]=i,o[1]=o[0]+e.width,i=o[1]+e.width;for(let i=0;i<e.width;++i)r+=t[o[0]++]<<8|t[o[1]++],n[a]=r,a++;break;case 2:o[0]=i,o[1]=o[0]+e.width,o[2]=o[1]+e.width,i=o[2]+e.width;for(let i=0;i<e.width;++i)r+=t[o[0]++]<<24|t[o[1]++]<<16|t[o[2]++]<<8,n[a]=r,a++}}return new DataView(n.buffer)}function x(e){var t=e.viewer,r={value:e.offset.value},n=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),i={version:A(t,r),unknownUncompressedSize:A(t,r),unknownCompressedSize:A(t,r),acCompressedSize:A(t,r),dcCompressedSize:A(t,r),rleCompressedSize:A(t,r),rleUncompressedSize:A(t,r),rleRawSize:A(t,r),totalAcUncompressedCount:A(t,r),totalDcUncompressedCount:A(t,r),acCompression:A(t,r)};if(i.version<2)throw"EXRLoader.parse: "+L.compression+" version "+i.version+" is unsupported";for(var a=[],o=R(t,r)-2;o>0;){var l=M(t.buffer,r),u=T(t,r),c=u>>2&3,d=new Int8Array([(u>>4)-1])[0],f=T(t,r);a.push({name:l,index:d,type:f,compression:c}),o-=l.length+3}for(var p=L.channels,v=Array(e.channels),m=0;m<e.channels;++m){var y=v[m]={},w=p[m];y.name=w.name,y.compression=0,y.decoded=!1,y.type=w.pixelType,y.pLinear=w.pLinear,y.width=e.width,y.height=e.lines}for(var _={idx:[,,,]},x=0;x<e.channels;++x)for(var y=v[x],m=0;m<a.length;++m){var E=a[m];y.name==E.name&&(y.compression=E.compression,E.index>=0&&(_.idx[E.index]=x),y.offset=x)}if(i.acCompressedSize>0)switch(i.acCompression){case 0:var S=new Uint16Array(i.totalAcUncompressedCount);h(e.array,t,r,i.acCompressedSize,S,i.totalAcUncompressedCount);break;case 1:var k=e.array.slice(r.value,r.value+i.totalAcUncompressedCount),C=K(k),S=new Uint16Array(C.buffer);r.value+=i.totalAcUncompressedCount}if(i.dcCompressedSize>0){var P=new Uint16Array(b({array:e.array,offset:r,size:i.dcCompressedSize}).buffer);r.value+=i.dcCompressedSize}if(i.rleRawSize>0){var k=e.array.slice(r.value,r.value+i.rleCompressedSize),C=K(k),D=g(C.buffer);r.value+=i.rleCompressedSize}for(var O=0,U=Array(v.length),m=0;m<U.length;++m)U[m]=[];for(var F=0;F<e.lines;++F)for(var B=0;B<v.length;++B)U[B].push(O),O+=v[B].width*e.type*2;!function(e,t,r,n,i,a){var o=new DataView(a.buffer),l=r[e.idx[0]].width,u=r[e.idx[0]].height,c=Math.floor(l/8),d=Math.ceil(l/8),f=Math.ceil(u/8),h=l-(d-1)*8,p=u-(f-1)*8,v={value:0},g=[,,,],m=[,,,],y=[,,,],b=[,,,],w=[,,,];for(let r=0;r<3;++r)w[r]=t[e.idx[r]],g[r]=r<1?0:g[r-1]+d*f,m[r]=new Float32Array(64),y[r]=new Uint16Array(64),b[r]=new Uint16Array(64*d);for(let t=0;t<f;++t){var _,x,M=8;t==f-1&&(M=p);var E=8;for(let e=0;e<d;++e){e==d-1&&(E=h);for(let e=0;e<3;++e)y[e].fill(0),y[e][0]=i[g[e]++],function(e,t,r){for(var n,i=1;i<64;)65280==(n=t[e.value])?i=64:n>>8==255?i+=255&n:(r[i]=n,i++),e.value++}(v,n,y[e]),_=y[e],(x=m[e])[0]=I(_[0]),x[1]=I(_[1]),x[2]=I(_[5]),x[3]=I(_[6]),x[4]=I(_[14]),x[5]=I(_[15]),x[6]=I(_[27]),x[7]=I(_[28]),x[8]=I(_[2]),x[9]=I(_[4]),x[10]=I(_[7]),x[11]=I(_[13]),x[12]=I(_[16]),x[13]=I(_[26]),x[14]=I(_[29]),x[15]=I(_[42]),x[16]=I(_[3]),x[17]=I(_[8]),x[18]=I(_[12]),x[19]=I(_[17]),x[20]=I(_[25]),x[21]=I(_[30]),x[22]=I(_[41]),x[23]=I(_[43]),x[24]=I(_[9]),x[25]=I(_[11]),x[26]=I(_[18]),x[27]=I(_[24]),x[28]=I(_[31]),x[29]=I(_[40]),x[30]=I(_[44]),x[31]=I(_[53]),x[32]=I(_[10]),x[33]=I(_[19]),x[34]=I(_[23]),x[35]=I(_[32]),x[36]=I(_[39]),x[37]=I(_[45]),x[38]=I(_[52]),x[39]=I(_[54]),x[40]=I(_[20]),x[41]=I(_[22]),x[42]=I(_[33]),x[43]=I(_[38]),x[44]=I(_[46]),x[45]=I(_[51]),x[46]=I(_[55]),x[47]=I(_[60]),x[48]=I(_[21]),x[49]=I(_[34]),x[50]=I(_[37]),x[51]=I(_[47]),x[52]=I(_[50]),x[53]=I(_[56]),x[54]=I(_[59]),x[55]=I(_[61]),x[56]=I(_[35]),x[57]=I(_[36]),x[58]=I(_[48]),x[59]=I(_[49]),x[60]=I(_[57]),x[61]=I(_[58]),x[62]=I(_[62]),x[63]=I(_[63]),function(e){let t=.5*Math.cos(3.14159/16),r=.5*Math.cos(3.14159/8),n=.5*Math.cos(3*3.14159/16),i=.5*Math.cos(3*3.14159/8);for(var a=[,,,,],o=[,,,,],s=[,,,,],l=[,,,,],u=0;u<8;++u){var c=8*u;a[0]=r*e[c+2],a[1]=i*e[c+2],a[2]=r*e[c+6],a[3]=i*e[c+6],o[0]=t*e[c+1]+n*e[c+3]+.2777854612564676*e[c+5]+.09754573032714427*e[c+7],o[1]=n*e[c+1]-.09754573032714427*e[c+3]-t*e[c+5]-.2777854612564676*e[c+7],o[2]=.2777854612564676*e[c+1]-t*e[c+3]+.09754573032714427*e[c+5]+n*e[c+7],o[3]=.09754573032714427*e[c+1]-.2777854612564676*e[c+3]+n*e[c+5]-t*e[c+7],s[0]=.35355362513961314*(e[c+0]+e[c+4]),s[3]=.35355362513961314*(e[c+0]-e[c+4]),s[1]=a[0]+a[3],s[2]=a[1]-a[2],l[0]=s[0]+s[1],l[1]=s[3]+s[2],l[2]=s[3]-s[2],l[3]=s[0]-s[1],e[c+0]=l[0]+o[0],e[c+1]=l[1]+o[1],e[c+2]=l[2]+o[2],e[c+3]=l[3]+o[3],e[c+4]=l[3]-o[3],e[c+5]=l[2]-o[2],e[c+6]=l[1]-o[1],e[c+7]=l[0]-o[0]}for(var d=0;d<8;++d)a[0]=r*e[16+d],a[1]=i*e[16+d],a[2]=r*e[48+d],a[3]=i*e[48+d],o[0]=t*e[8+d]+n*e[24+d]+.2777854612564676*e[40+d]+.09754573032714427*e[56+d],o[1]=n*e[8+d]-.09754573032714427*e[24+d]-t*e[40+d]-.2777854612564676*e[56+d],o[2]=.2777854612564676*e[8+d]-t*e[24+d]+.09754573032714427*e[40+d]+n*e[56+d],o[3]=.09754573032714427*e[8+d]-.2777854612564676*e[24+d]+n*e[40+d]-t*e[56+d],s[0]=.35355362513961314*(e[d]+e[32+d]),s[3]=.35355362513961314*(e[d]-e[32+d]),s[1]=a[0]+a[3],s[2]=a[1]-a[2],l[0]=s[0]+s[1],l[1]=s[3]+s[2],l[2]=s[3]-s[2],l[3]=s[0]-s[1],e[0+d]=l[0]+o[0],e[8+d]=l[1]+o[1],e[16+d]=l[2]+o[2],e[24+d]=l[3]+o[3],e[32+d]=l[3]-o[3],e[40+d]=l[2]-o[2],e[48+d]=l[1]-o[1],e[56+d]=l[0]-o[0]}(m[e]);!function(e){for(var t=0;t<64;++t){var r=e[0][t],n=e[1][t],i=e[2][t];e[0][t]=r+1.5747*i,e[1][t]=r-.1873*n-.4682*i,e[2][t]=r+1.8556*n}}(m);for(let t=0;t<3;++t)!function(e,t,r){for(var n,i=0;i<64;++i)t[r+i]=s.DataUtils.toHalfFloat((n=e[i])<=1?Math.sign(n)*Math.pow(Math.abs(n),2.2):Math.sign(n)*Math.pow(9.025013291561939,Math.abs(n)-1))}(m[t],b[t],64*e)}let a=0;for(let n=0;n<3;++n){let i=r[e.idx[n]].type;for(let e=8*t;e<8*t+M;++e){a=w[n][e];for(let t=0;t<c;++t){let r=64*t+(7&e)*8;o.setUint16(a+0*i,b[n][r+0],!0),o.setUint16(a+2*i,b[n][r+1],!0),o.setUint16(a+4*i,b[n][r+2],!0),o.setUint16(a+6*i,b[n][r+3],!0),o.setUint16(a+8*i,b[n][r+4],!0),o.setUint16(a+10*i,b[n][r+5],!0),o.setUint16(a+12*i,b[n][r+6],!0),o.setUint16(a+14*i,b[n][r+7],!0),a+=16*i}}if(c!=d)for(let e=8*t;e<8*t+M;++e){let t=w[n][e]+8*c*2*i,r=64*c+(7&e)*8;for(let e=0;e<E;++e)o.setUint16(t+2*e*i,b[n][r+e],!0)}}}for(var S=new Uint16Array(l),o=new DataView(a.buffer),k=0;k<3;++k){r[e.idx[k]].decoded=!0;var T=r[e.idx[k]].type;if(2==r[k].type)for(var A=0;A<u;++A){let e=w[k][A];for(var C=0;C<l;++C)S[C]=o.getUint16(e+2*C*T,!0);for(var C=0;C<l;++C)o.setFloat32(e+2*C*T,I(S[C]),!0)}}}(_,U,v,S,P,n);for(var m=0;m<v.length;++m){var y=v[m];if(!y.decoded){if(2===y.compression)for(var j=0,N=0,F=0;F<e.lines;++F){for(var z=U[m][j],V=0;V<y.width;++V){for(var W=0;W<2*y.type;++W)n[z++]=D[N+W*y.width*y.height];N++}j++}else throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(n.buffer)}function M(e,t){for(var r=new Uint8Array(e),n=0;0!=r[t.value+n];)n+=1;var i=new TextDecoder().decode(r.slice(t.value,t.value+n));return t.value=t.value+n+1,i}function E(e,t){var r=e.getInt32(t.value,!0);return t.value=t.value+4,r}function S(e,t){var r=e.getUint32(t.value,!0);return t.value=t.value+4,r}function k(e,t){var r=e[t.value];return t.value=t.value+1,r}function T(e,t){var r=e.getUint8(t.value);return t.value=t.value+1,r}let A=function(e,t){let r;return"getBigInt64"in DataView.prototype?r=Number(e.getBigInt64(t.value,!0)):r=e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,r};function C(e,t){var r=e.getFloat32(t.value,!0);return t.value+=4,r}function P(e,t){return s.DataUtils.toHalfFloat(C(e,t))}function I(e){var t=(31744&e)>>10,r=1023&e;return(e>>15?-1:1)*(t?31===t?r?NaN:1/0:Math.pow(2,t-15)*(1+r/1024):r/1024*6103515625e-14)}function R(e,t){var r=e.getUint16(t.value,!0);return t.value+=2,r}function D(e,t){return I(R(e,t))}let O=new DataView(e),U=new Uint8Array(e),F={value:0},L=function(e,t,r){let n={};if(20000630!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";n.version=e.getUint8(4);let i=e.getUint8(5);n.spec={singleTile:!!(2&i),longName:!!(4&i),deepFormat:!!(8&i),multiPart:!!(16&i)},r.value=8;for(var a=!0;a;){var o=M(t,r);if(0==o)a=!1;else{var s=M(t,r),l=S(e,r),u=function(e,t,r,n,i){var a,o,s,l,u;if("string"===n||"stringvector"===n||"iccProfile"===n)return a=new TextDecoder().decode(new Uint8Array(t).slice(r.value,r.value+i)),r.value=r.value+i,a;if("chlist"===n)return function(e,t,r,n){for(var i=r.value,a=[];r.value<i+n-1;){var o=M(t,r),s=E(e,r),l=T(e,r);r.value+=3;var u=E(e,r),c=E(e,r);a.push({name:o,pixelType:s,pLinear:l,xSampling:u,ySampling:c})}return r.value+=1,a}(e,t,r,i);if("chromaticities"===n)return o=C(e,r),s=C(e,r),l=C(e,r),u=C(e,r),{redX:o,redY:s,greenX:l,greenY:u,blueX:C(e,r),blueY:C(e,r),whiteX:C(e,r),whiteY:C(e,r)};if("compression"===n)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][T(e,r)];if("box2i"===n)return{xMin:S(e,r),yMin:S(e,r),xMax:S(e,r),yMax:S(e,r)};if("lineOrder"===n)return["INCREASING_Y"][T(e,r)];if("float"===n)return C(e,r);else if("v2f"===n)return[C(e,r),C(e,r)];else if("v3f"===n)return[C(e,r),C(e,r),C(e,r)];else if("int"===n)return E(e,r);else if("rational"===n)return[E(e,r),S(e,r)];else if("timecode"===n)return[S(e,r),S(e,r)];else return"preview"===n?(r.value+=i,"skipped"):void(r.value+=i)}(e,t,r,s,l);void 0===u?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${s}'.`):n[o]=u}}if((-5&i)!=0)throw console.error("EXRHeader:",n),"THREE.EXRLoader: provided file is currently unsupported.";return n}(O,e,F),B=function(e,t,r,n,i){let a={size:0,viewer:t,array:r,offset:n,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[Q?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":a.lines=1,a.uncompress=m;break;case"RLE_COMPRESSION":a.lines=1,a.uncompress=y;break;case"ZIPS_COMPRESSION":a.lines=1,a.uncompress=b;break;case"ZIP_COMPRESSION":a.lines=16,a.uncompress=b;break;case"PIZ_COMPRESSION":a.lines=32,a.uncompress=w;break;case"PXR24_COMPRESSION":a.lines=16,a.uncompress=_;break;case"DWAA_COMPRESSION":a.lines=32,a.uncompress=x;break;case"DWAB_COMPRESSION":a.lines=256,a.uncompress=x;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(a.scanlineBlockSize=a.lines,1==a.type)switch(i){case s.FloatType:a.getter=D,a.inputSize=2;break;case s.HalfFloatType:a.getter=R,a.inputSize=2}else if(2==a.type)switch(i){case s.FloatType:a.getter=C,a.inputSize=4;break;case s.HalfFloatType:a.getter=P,a.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+a.type+" for "+e.compression+".";a.blockCount=(e.dataWindow.yMax+1)/a.scanlineBlockSize;for(var o=0;o<a.blockCount;o++)A(t,n);a.outputChannels=3==a.channels?4:a.channels;let l=a.width*a.height*a.outputChannels;switch(i){case s.FloatType:a.byteArray=new Float32Array(l),a.channels<a.outputChannels&&a.byteArray.fill(1,0,l);break;case s.HalfFloatType:a.byteArray=new Uint16Array(l),a.channels<a.outputChannels&&a.byteArray.fill(15360,0,l);break;default:console.error("THREE.EXRLoader: unsupported type: ",i)}return a.bytesPerLine=a.width*a.inputSize*a.channels,4==a.outputChannels?a.format=s.RGBAFormat:a.format=s.RedFormat,Q?a.colorSpace="srgb-linear":a.encoding=3e3,a}(L,O,U,F,this.type),j={value:0},N={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<B.height/B.scanlineBlockSize;e++){let t=S(O,F);B.size=S(O,F),B.lines=t+B.scanlineBlockSize>B.height?B.height-t:B.scanlineBlockSize;let r=B.size<B.lines*B.bytesPerLine?B.uncompress(B):m(B);F.value+=B.size;for(let t=0;t<B.scanlineBlockSize;t++){let n=t+e*B.scanlineBlockSize;if(n>=B.height)break;for(let e=0;e<B.channels;e++){let i=N[L.channels[e].name];for(let a=0;a<B.width;a++){j.value=(B.channels*B.width*t+e*B.width+a)*B.inputSize;let o=(B.height-1-n)*(B.width*B.outputChannels)+a*B.outputChannels+i;B.byteArray[o]=B.getter(r,j)}}}}return{header:L,width:B.width,height:B.height,data:B.byteArray,format:B.format,[Q?"colorSpace":"encoding"]:B[Q?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){Q?e.colorSpace=r.colorSpace:e.encoding=r.encoding,e.minFilter=s.LinearFilter,e.magFilter=s.LinearFilter,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,r)},r,n)}}let ee=(e,t,r)=>{let n;switch(e){case s.UnsignedByteType:n=new Uint8ClampedArray(t*r*4);break;case s.HalfFloatType:n=new Uint16Array(t*r*4);break;case s.UnsignedIntType:n=new Uint32Array(t*r*4);break;case s.ByteType:n=new Int8Array(t*r*4);break;case s.ShortType:n=new Int16Array(t*r*4);break;case s.IntType:n=new Int32Array(t*r*4);break;case s.FloatType:n=new Float32Array(t*r*4);break;default:throw Error("Unsupported data type")}return n},et=(e,t,r,i)=>{if(void 0!==n)return n;let a=new s.WebGLRenderTarget(1,1,i);t.setRenderTarget(a);let o=new s.Mesh(new s.PlaneGeometry,new s.MeshBasicMaterial({color:16777215}));t.render(o,r),t.setRenderTarget(null);let l=ee(e,a.width,a.height);return t.readRenderTargetPixels(a,0,0,a.width,a.height,l),a.dispose(),o.geometry.dispose(),o.material.dispose(),n=0!==l[0]};class er{constructor(e){var t,r,n,i,a,o,l,u,c,d,f,h,p,v,g,m;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;let y={format:s.RGBAFormat,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:(null===(t=e.renderTargetOptions)||void 0===t?void 0:t.anisotropy)!==void 0?null===(r=e.renderTargetOptions)||void 0===r?void 0:r.anisotropy:1,generateMipmaps:(null===(n=e.renderTargetOptions)||void 0===n?void 0:n.generateMipmaps)!==void 0&&(null===(i=e.renderTargetOptions)||void 0===i?void 0:i.generateMipmaps),magFilter:(null===(a=e.renderTargetOptions)||void 0===a?void 0:a.magFilter)!==void 0?null===(o=e.renderTargetOptions)||void 0===o?void 0:o.magFilter:s.LinearFilter,minFilter:(null===(l=e.renderTargetOptions)||void 0===l?void 0:l.minFilter)!==void 0?null===(u=e.renderTargetOptions)||void 0===u?void 0:u.minFilter:s.LinearFilter,samples:(null===(c=e.renderTargetOptions)||void 0===c?void 0:c.samples)!==void 0?null===(d=e.renderTargetOptions)||void 0===d?void 0:d.samples:void 0,wrapS:(null===(f=e.renderTargetOptions)||void 0===f?void 0:f.wrapS)!==void 0?null===(h=e.renderTargetOptions)||void 0===h?void 0:h.wrapS:s.ClampToEdgeWrapping,wrapT:(null===(p=e.renderTargetOptions)||void 0===p?void 0:p.wrapT)!==void 0?null===(v=e.renderTargetOptions)||void 0===v?void 0:v.wrapT:s.ClampToEdgeWrapping};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=er.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new s.Scene,this._camera=new s.OrthographicCamera,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!et(this._type,this._renderer,this._camera,y)){let e;this._type===s.HalfFloatType&&(e=this._renderer.extensions.has("EXT_color_buffer_float")?s.FloatType:void 0),void 0!==e?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${s.FloatType}`),this._type=e):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new s.Mesh(new s.PlaneGeometry,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new s.WebGLRenderTarget(this.width,this.height,y),this._renderTarget.texture.mapping=(null===(g=e.renderTargetOptions)||void 0===g?void 0:g.mapping)!==void 0?null===(m=e.renderTargetOptions)||void 0===m?void 0:m.mapping:s.UVMapping}static instantiateRenderer(){let e=new s.WebGLRenderer;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw Error("Can't read pixels in this browser");let e=ee(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){let t=new s.DataTexture(this.toArray(),this.width,this.height,s.RGBAFormat,this._type,(null==e?void 0:e.mapping)||s.UVMapping,(null==e?void 0:e.wrapS)||s.ClampToEdgeWrapping,(null==e?void 0:e.wrapT)||s.ClampToEdgeWrapping,(null==e?void 0:e.magFilter)||s.LinearFilter,(null==e?void 0:e.minFilter)||s.LinearFilter,(null==e?void 0:e.anisotropy)||1,s.LinearSRGBColorSpace);return t.generateMipmaps=(null==e?void 0:e.generateMipmaps)!==void 0&&(null==e?void 0:e.generateMipmaps),t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof s.ShaderMaterial&&Object.values(this.material.uniforms).forEach(e=>{e.value instanceof s.Texture&&e.value.dispose()}),Object.values(this.material).forEach(e=>{e instanceof s.Texture&&e.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}let en=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,ei=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class ea extends s.ShaderMaterial{constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:n,gainMapMax:i,maxDisplayBoost:a,hdrCapacityMin:o,hdrCapacityMax:l,sdr:u,gainMap:c}){super({name:"GainMapDecoderMaterial",vertexShader:en,fragmentShader:ei,uniforms:{sdr:{value:u},gainMap:{value:c},gamma:{value:new s.Vector3(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new s.Vector3().fromArray(t)},offsetSdr:{value:new s.Vector3().fromArray(r)},gainMapMin:{value:new s.Vector3().fromArray(n)},gainMapMax:{value:new s.Vector3().fromArray(i)},weightFactor:{value:(Math.log2(a)-o)/(l-o)}},blending:s.NoBlending,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){let e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){let t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){let e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class eo extends Error{}class es extends Error{}let el=(e,t,r)=>{var n;let i;let a=null===(n=e.attributes.getNamedItem(t))||void 0===n?void 0:n.nodeValue;if(a)i=a;else{let n=e.getElementsByTagName(t)[0];if(n){let e=n.getElementsByTagName("rdf:li");if(3===e.length)i=Array.from(e).map(e=>e.innerHTML);else throw Error(`Gainmap metadata contains an array of items for ${t} but its length is not 3`)}else{if(r)return r;throw Error(`Can't find ${t} in gainmap metadata`)}}return i},eu=e=>{var t,r;let n;"undefined"!=typeof TextDecoder?n=new TextDecoder().decode(e):n=e.toString();let i=n.indexOf("<x:xmpmeta"),a=new DOMParser;for(;-1!==i;){let e=n.indexOf("x:xmpmeta>",i);n.slice(i,e+10);let o=n.slice(i,e+10);try{let e=a.parseFromString(o,"text/xml").getElementsByTagName("rdf:Description")[0],n=el(e,"hdrgm:GainMapMin","0"),i=el(e,"hdrgm:GainMapMax"),s=el(e,"hdrgm:Gamma","1"),l=el(e,"hdrgm:OffsetSDR","0.015625"),u=el(e,"hdrgm:OffsetHDR","0.015625"),c=null===(t=e.attributes.getNamedItem("hdrgm:HDRCapacityMin"))||void 0===t?void 0:t.nodeValue;c||(c="0");let d=null===(r=e.attributes.getNamedItem("hdrgm:HDRCapacityMax"))||void 0===r?void 0:r.nodeValue;if(!d)throw Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(n)?n.map(e=>parseFloat(e)):[parseFloat(n),parseFloat(n),parseFloat(n)],gainMapMax:Array.isArray(i)?i.map(e=>parseFloat(e)):[parseFloat(i),parseFloat(i),parseFloat(i)],gamma:Array.isArray(s)?s.map(e=>parseFloat(e)):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetSdr:Array.isArray(l)?l.map(e=>parseFloat(e)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(e=>parseFloat(e)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(c),hdrCapacityMax:parseFloat(d)}}catch(e){}i=n.indexOf("<x:xmpmeta",e)}};class ec{constructor(e){this.options={debug:!!e&&void 0!==e.debug&&e.debug,extractFII:!e||void 0===e.extractFII||e.extractFII,extractNonFII:!e||void 0===e.extractNonFII||e.extractNonFII}}extract(e){return new Promise((t,r)=>{let n;let i=this.options.debug,a=new DataView(e.buffer);if(65496!==a.getUint16(0)){r(Error("Not a valid jpeg"));return}let o=a.byteLength,s=2,l=0;for(;s<o;){if(++l>250){r(Error(`Found no marker after ${l} loops ðŸ˜µ`));return}if(255!==a.getUint8(s)){r(Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${a.getUint8(s).toString(16)}`));return}if(n=a.getUint8(s+1),i&&console.log(`Marker: ${n.toString(16)}`),226===n){i&&console.log("Found APP2 marker (0xffe2)");let e=s+4;if(1297106432===a.getUint32(e)){let n;let i=e+4;if(18761===a.getUint16(i))n=!1;else if(19789===a.getUint16(i))n=!0;else{r(Error("No valid endianness marker found in TIFF header"));return}if(42!==a.getUint16(i+2,!n)){r(Error("Not valid TIFF data! (no 0x002A marker)"));return}let o=a.getUint32(i+4,!n);if(o<8){r(Error("Not valid TIFF data! (First offset less than 8)"));return}let s=i+o,l=a.getUint16(s,!n),u=s+2,c=0;for(let e=u;e<u+12*l;e+=12)45057===a.getUint16(e,!n)&&(c=a.getUint32(e+8,!n));let d=s+2+12*l+4,f=[];for(let e=d;e<d+16*c;e+=16){let t={MPType:a.getUint32(e,!n),size:a.getUint32(e+4,!n),dataOffset:a.getUint32(e+8,!n),dependantImages:a.getUint32(e+12,!n),start:-1,end:-1,isFII:!1};t.dataOffset?(t.start=i+t.dataOffset,t.isFII=!1):(t.start=0,t.isFII=!0),t.end=t.start+t.size,f.push(t)}if(this.options.extractNonFII&&f.length){let e=new Blob([a]),r=[];for(let t of f){if(t.isFII&&!this.options.extractFII)continue;let n=e.slice(t.start,t.end+1,"image/jpeg");r.push(n)}t(r)}}}s+=2+a.getUint16(s+2)}})}}let ed=async e=>{let t=eu(e);if(!t)throw new es("Gain map XMP metadata not found");let r=new ec({extractFII:!0,extractNonFII:!0}),n=await r.extract(e);if(2!==n.length)throw new eo("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:t}},ef=e=>new Promise((t,r)=>{let n=document.createElement("img");n.onload=()=>{t(n)},n.onerror=e=>{r(e)},n.src=URL.createObjectURL(e)});class eh extends s.Loader{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new s.LoadingManager}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");let e=new ea({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new s.Texture,sdr:new s.Texture});return new er({width:16,height:16,type:s.HalfFloatType,colorSpace:s.LinearSRGBColorSpace,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,r,n){let i,a;let o=n?new Blob([n],{type:"image/jpeg"}):void 0,l=new Blob([r],{type:"image/jpeg"}),u=!1;if("undefined"==typeof createImageBitmap){let e=await Promise.all([o?ef(o):Promise.resolve(void 0),ef(l)]);a=e[0],i=e[1],u=!0}else{let e=await Promise.all([o?createImageBitmap(o,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(l,{imageOrientation:"flipY"})]);a=e[0],i=e[1]}let c=new s.Texture(a||new ImageData(2,2),s.UVMapping,s.ClampToEdgeWrapping,s.ClampToEdgeWrapping,s.LinearFilter,s.LinearMipMapLinearFilter,s.RGBAFormat,s.UnsignedByteType,1,s.LinearSRGBColorSpace);c.flipY=u,c.needsUpdate=!0;let d=new s.Texture(i,s.UVMapping,s.ClampToEdgeWrapping,s.ClampToEdgeWrapping,s.LinearFilter,s.LinearMipMapLinearFilter,s.RGBAFormat,s.UnsignedByteType,1,s.SRGBColorSpace);d.flipY=u,d.needsUpdate=!0,e.width=i.width,e.height=i.height,e.material.gainMap=c,e.material.sdr=d,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class ep extends eh{load([e,t,r],n,i,a){let o,l,u;let c=this.prepareQuadRenderer(),d=async()=>{if(o&&l&&u){try{await this.render(c,u,o,l)}catch(n){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),"function"==typeof a&&a(n),c.disposeOnDemandRenderer();return}"function"==typeof n&&n(c),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),c.disposeOnDemandRenderer()}},f=!0,h=0,p=0,v=!0,g=0,m=0,y=!0,b=0,w=0,_=()=>{"function"==typeof i&&i(new ProgressEvent("progress",{lengthComputable:f&&v&&y,loaded:p+m+w,total:h+g+b}))};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);let x=new s.FileLoader(this._internalLoadingManager);x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(this.withCredentials),x.load(e,async e=>{if("string"==typeof e)throw Error("Invalid sdr buffer");o=e,await d()},e=>{f=e.lengthComputable,p=e.loaded,h=e.total,_()},t=>{this.manager.itemError(e),"function"==typeof a&&a(t)});let M=new s.FileLoader(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(t,async e=>{if("string"==typeof e)throw Error("Invalid gainmap buffer");l=e,await d()},e=>{v=e.lengthComputable,m=e.loaded,g=e.total,_()},e=>{this.manager.itemError(t),"function"==typeof a&&a(e)});let E=new s.FileLoader(this._internalLoadingManager);return E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(r,async e=>{if("string"!=typeof e)throw Error("Invalid metadata string");u=JSON.parse(e),await d()},e=>{y=e.lengthComputable,w=e.loaded,b=e.total,_()},e=>{this.manager.itemError(r),"function"==typeof a&&a(e)}),c}}class ev extends eh{load(e,t,r,n){let i=this.prepareQuadRenderer(),a=new s.FileLoader(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async r=>{let a,o,s;if("string"==typeof r)throw Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let l=new Uint8Array(r);try{let e=await ed(l);a=e.sdr,o=e.gainMap,s=e.metadata}catch(t){if(t instanceof es||t instanceof eo)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),s={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},a=l;else throw t}try{await this.render(i,s,a,o)}catch(t){this.manager.itemError(e),"function"==typeof n&&n(t),i.disposeOnDemandRenderer();return}"function"==typeof t&&t(i),this.manager.itemEnd(e),i.disposeOnDemandRenderer()},r,t=>{this.manager.itemError(e),"function"==typeof n&&n(t)}),i}}let eg={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},em=e=>Array.isArray(e);function ey({files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:r,encoding:n,extensions:i}={}){var a,l;let u;let d=null,f=!1;if(r){if(!(r in eg))throw Error("Preset must be one of: "+Object.keys(eg).join(", "));e=eg[r],t="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/"}let h=em(e)&&6===e.length,p=em(e)&&3===e.length&&e.some(e=>e.endsWith("json")),v=em(e)?e[0]:e;if(f=em(e),!(d="cube"===(u=h?"cube":p?"webp":v.startsWith("data:application/exr")?"exr":v.startsWith("data:application/hdr")?"hdr":v.startsWith("data:image/jpeg")?"jpg":null==(a=v.split(".").pop())||null==(a=a.split("?"))||null==(a=a.shift())?void 0:a.toLowerCase())?s.CubeTextureLoader:"hdr"===u?c:"exr"===u?J:"jpg"===u||"jpeg"===u?ev:"webp"===u?ep:null))throw Error("useEnvironment: Unrecognized file extension: "+e);let g=(0,o.A)(e=>e.gl),m=(0,o.F)(d,f?[e]:e,e=>{("webp"===u||"jpg"===u||"jpeg"===u)&&e.setRenderer(g),null==e.setPath||e.setPath(t),i&&i(e)}),y=f?m[0]:m;return("jpg"===u||"jpeg"===u||"webp"===u)&&(y=null==(l=y.renderTarget)?void 0:l.texture),y.mapping=h?s.CubeReflectionMapping:s.EquirectangularReflectionMapping,"colorSpace"in y?y.colorSpace=(null!=n?n:h)?"srgb":"srgb-linear":y.encoding=(null!=n?n:h)?3001:3e3,y}let eb=e=>e.current&&e.current.isScene,ew=e=>eb(e)?e.current:e;function e_(e,t,r,n,i={}){var a,s,l,u,c;i={backgroundBlurriness:null!==(a=i.blur)&&void 0!==a?a:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};let d=ew(t||r),f=d.background,h=d.environment,p={backgroundBlurriness:d.backgroundBlurriness,backgroundIntensity:d.backgroundIntensity,backgroundRotation:null!==(s=null==(l=d.backgroundRotation)||null==l.clone?void 0:l.clone())&&void 0!==s?s:[0,0,0],environmentIntensity:d.environmentIntensity,environmentRotation:null!==(u=null==(c=d.environmentRotation)||null==c.clone?void 0:c.clone())&&void 0!==u?u:[0,0,0]};return"only"!==e&&(d.environment=n),e&&(d.background=n),(0,o.j)(d,i),()=>{"only"!==e&&(d.environment=h),e&&(d.background=f),(0,o.j)(d,p)}}function ex({scene:e,background:t=!1,map:r,...n}){let i=(0,o.A)(e=>e.scene);return a.useLayoutEffect(()=>{if(r)return e_(t,e,i,r,n)}),null}function eM({background:e=!1,scene:t,blur:r,backgroundBlurriness:n,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:l,environmentRotation:u,...c}){let d=ey(c),f=(0,o.A)(e=>e.scene);return a.useLayoutEffect(()=>e_(e,t,f,d,{blur:r,backgroundBlurriness:n,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:l,environmentRotation:u})),null}function eE({children:e,near:t=1,far:r=1e3,resolution:n=256,frames:i=1,map:l,background:u=!1,blur:c,backgroundBlurriness:d,backgroundIntensity:f,backgroundRotation:h,environmentIntensity:p,environmentRotation:v,scene:g,files:m,path:y,preset:b,extensions:w}){let _=(0,o.A)(e=>e.gl),x=(0,o.A)(e=>e.scene),M=a.useRef(null),[E]=a.useState(()=>new s.Scene),S=a.useMemo(()=>{let e=new s.WebGLCubeRenderTarget(n);return e.texture.type=s.HalfFloatType,e},[n]);a.useLayoutEffect(()=>(1===i&&M.current.update(_,E),e_(u,g,x,S.texture,{blur:c,backgroundBlurriness:d,backgroundIntensity:f,backgroundRotation:h,environmentIntensity:p,environmentRotation:v})),[e,E,S.texture,g,x,u,i,_]);let k=1;return(0,o.C)(()=>{(i===1/0||k<i)&&(M.current.update(_,E),k++)}),a.createElement(a.Fragment,null,(0,o.g)(a.createElement(a.Fragment,null,e,a.createElement("cubeCamera",{ref:M,args:[t,r,S]}),m||b?a.createElement(eM,{background:!0,files:m,preset:b,path:y,extensions:w}):l?a.createElement(ex,{background:!0,map:l,extensions:w}):null),E))}function eS(e){var t,r,n,s;let l=ey(e),c=e.map||l;a.useMemo(()=>(0,o.e)({GroundProjectedEnvImpl:u}),[]);let d=a.useMemo(()=>[c],[c]),f=null==(t=e.ground)?void 0:t.height,h=null==(r=e.ground)?void 0:r.radius,p=null!==(n=null==(s=e.ground)?void 0:s.scale)&&void 0!==n?n:1e3;return a.createElement(a.Fragment,null,a.createElement(ex,(0,i.Z)({},e,{map:c})),a.createElement("groundProjectedEnvImpl",{args:d,scale:p,height:f,radius:h}))}function ek(e){return e.ground?a.createElement(eS,e):e.map?a.createElement(ex,e):e.children?a.createElement(eE,e):a.createElement(eM,e)}},789:function(e,t,r){r.d(t,{b:function(){return o}});var n=r(2265),i=r(5238),a=r(7776);let o=n.forwardRef(({children:e,enabled:t=!0,speed:r=1,rotationIntensity:o=1,floatIntensity:s=1,floatingRange:l=[-.1,.1],...u},c)=>{let d=n.useRef(null);n.useImperativeHandle(c,()=>d.current,[]);let f=n.useRef(1e4*Math.random());return(0,i.C)(e=>{var n,i;if(!t||0===r)return;let u=f.current+e.clock.getElapsedTime();d.current.rotation.x=Math.cos(u/4*r)/8*o,d.current.rotation.y=Math.sin(u/4*r)/8*o,d.current.rotation.z=Math.sin(u/4*r)/20*o;let c=Math.sin(u/4*r)/10;c=a.MathUtils.mapLinear(c,-.1,.1,null!==(n=null==l?void 0:l[0])&&void 0!==n?n:-.1,null!==(i=null==l?void 0:l[1])&&void 0!==i?i:.1),d.current.position.y=c*s,d.current.updateMatrix()}),n.createElement("group",u,n.createElement("group",{ref:d,matrixAutoUpdate:!1},e))})},4379:function(e,t,r){r.d(t,{x:function(){return l}});var n=r(2988),i=r(2265),a=r(5212),o=r(5238),s=r(9429);let l=i.forwardRef(({sdfGlyphSize:e=64,anchorX:t="center",anchorY:r="middle",font:l,fontSize:u=1,children:c,characters:d,onSync:f,...h},p)=>{let v=(0,o.A)(({invalidate:e})=>e),[g]=i.useState(()=>new a.xv),[m,y]=i.useMemo(()=>{let e=[],t="";return i.Children.forEach(c,r=>{"string"==typeof r||"number"==typeof r?t+=r:e.push(r)}),[e,t]},[c]);return(0,s.Rq)(()=>new Promise(e=>(0,a.C5)({font:l,characters:d},e)),["troika-text",l,d]),i.useLayoutEffect(()=>void g.sync(()=>{v(),f&&f(g)})),i.useEffect(()=>()=>g.dispose(),[g]),i.createElement("primitive",(0,n.Z)({object:g,ref:p,font:l,text:y,anchorX:t,anchorY:r,fontSize:u,sdfGlyphSize:e},h),m)})},2325:function(e,t,r){let n,i;r.d(t,{V:function(){return b}});var a=r(2988),o=r(2265),s=r(4040),l=r(7776),u=r(5238);let c=new l.Vector3,d=new l.Vector3,f=new l.Vector3,h=new l.Vector2;function p(e,t,r){let n=c.setFromMatrixPosition(e.matrixWorld);n.project(t);let i=r.width/2,a=r.height/2;return[n.x*i+i,-(n.y*a)+a]}let v=e=>1e-10>Math.abs(e)?0:e;function g(e,t,r=""){let n="matrix3d(";for(let r=0;16!==r;r++)n+=v(t[r]*e.elements[r])+(15!==r?",":")");return r+n}let m=(n=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>g(e,n)),y=(i=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>g(e,i(t),"translate(-50%,-50%)")),b=o.forwardRef(({children:e,eps:t=.001,style:r,className:n,prepend:i,center:g,fullscreen:b,portal:w,distanceFactor:_,sprite:x=!1,transform:M=!1,occlude:E,onOcclude:S,castShadow:k,receiveShadow:T,material:A,geometry:C,zIndexRange:P=[16777271,0],calculatePosition:I=p,as:R="div",wrapperClass:D,pointerEvents:O="auto",...U},F)=>{let{gl:L,camera:B,scene:j,size:N,raycaster:z,events:V,viewport:W}=(0,u.A)(),[H]=o.useState(()=>document.createElement(R)),q=o.useRef(),G=o.useRef(null),X=o.useRef(0),$=o.useRef([0,0]),Y=o.useRef(null),K=o.useRef(null),Z=(null==w?void 0:w.current)||V.connected||L.domElement.parentNode,Q=o.useRef(null),J=o.useRef(!1),ee=o.useMemo(()=>{var e;return E&&"blending"!==E||Array.isArray(E)&&E.length&&(e=E[0])&&"object"==typeof e&&"current"in e},[E]);o.useLayoutEffect(()=>{let e=L.domElement;E&&"blending"===E?(e.style.zIndex=`${Math.floor(P[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[E]),o.useLayoutEffect(()=>{if(G.current){let e=q.current=s.createRoot(H);if(j.updateMatrixWorld(),M)H.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=I(G.current,B,N);H.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return Z&&(i?Z.prepend(H):Z.appendChild(H)),()=>{Z&&Z.removeChild(H),e.unmount()}}},[Z,M]),o.useLayoutEffect(()=>{D&&(H.className=D)},[D]);let et=o.useMemo(()=>M?{position:"absolute",top:0,left:0,width:N.width,height:N.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:g?"translate3d(-50%,-50%,0)":"none",...b&&{top:-N.height/2,left:-N.width/2,width:N.width,height:N.height},...r},[r,g,b,N,M]),er=o.useMemo(()=>({position:"absolute",pointerEvents:O}),[O]);o.useLayoutEffect(()=>{var t,i;J.current=!1,M?null==(t=q.current)||t.render(o.createElement("div",{ref:Y,style:et},o.createElement("div",{ref:K,style:er},o.createElement("div",{ref:F,className:n,style:r,children:e})))):null==(i=q.current)||i.render(o.createElement("div",{ref:F,style:et,className:n,children:e}))});let en=o.useRef(!0);(0,u.C)(e=>{if(G.current){B.updateMatrixWorld(),G.current.updateWorldMatrix(!0,!1);let e=M?$.current:I(G.current,B,N);if(M||Math.abs(X.current-B.zoom)>t||Math.abs($.current[0]-e[0])>t||Math.abs($.current[1]-e[1])>t){let t=function(e,t){let r=c.setFromMatrixPosition(e.matrixWorld),n=d.setFromMatrixPosition(t.matrixWorld),i=r.sub(n),a=t.getWorldDirection(f);return i.angleTo(a)>Math.PI/2}(G.current,B),r=!1;ee&&(Array.isArray(E)?r=E.map(e=>e.current):"blending"!==E&&(r=[j]));let n=en.current;if(r){let e=function(e,t,r,n){let i=c.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),h.set(a.x,a.y),r.setFromCamera(h,t);let o=r.intersectObjects(n,!0);if(o.length){let e=o[0].distance;return i.distanceTo(r.ray.origin)<e}return!0}(G.current,B,z,r);en.current=e&&!t}else en.current=!t;n!==en.current&&(S?S(!en.current):H.style.display=en.current?"block":"none");let i=Math.floor(P[0]/2),a=E?ee?[P[0],i]:[i-1,0]:P;if(H.style.zIndex=`${function(e,t,r){if(t instanceof l.PerspectiveCamera||t instanceof l.OrthographicCamera){let n=c.setFromMatrixPosition(e.matrixWorld),i=d.setFromMatrixPosition(t.matrixWorld),a=n.distanceTo(i),o=(r[1]-r[0])/(t.far-t.near),s=r[1]-o*t.far;return Math.round(o*a+s)}}(G.current,B,a)}`,M){let[e,t]=[N.width/2,N.height/2],r=B.projectionMatrix.elements[5]*t,{isOrthographicCamera:n,top:i,left:a,bottom:o,right:s}=B,l=m(B.matrixWorldInverse),u=n?`scale(${r})translate(${v(-(s+a)/2)}px,${v((i+o)/2)}px)`:`translateZ(${r}px)`,c=G.current.matrixWorld;x&&((c=B.matrixWorldInverse.clone().transpose().copyPosition(c).scale(G.current.scale)).elements[3]=c.elements[7]=c.elements[11]=0,c.elements[15]=1),H.style.width=N.width+"px",H.style.height=N.height+"px",H.style.perspective=n?"":`${r}px`,Y.current&&K.current&&(Y.current.style.transform=`${u}${l}translate(${e}px,${t}px)`,K.current.style.transform=y(c,1/((_||10)/400)))}else{let t=void 0===_?1:function(e,t){if(t instanceof l.OrthographicCamera)return t.zoom;if(!(t instanceof l.PerspectiveCamera))return 1;{let r=c.setFromMatrixPosition(e.matrixWorld),n=d.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(n))}}(G.current,B)*_;H.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}$.current=e,X.current=B.zoom}}if(!ee&&Q.current&&!J.current){if(M){if(Y.current){let e=Y.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=B;if(t||C)U.scale&&(Array.isArray(U.scale)?U.scale instanceof l.Vector3?Q.current.scale.copy(U.scale.clone().divideScalar(1)):Q.current.scale.set(1/U.scale[0],1/U.scale[1],1/U.scale[2]):Q.current.scale.setScalar(1/U.scale));else{let t=(_||10)/400,r=e.clientWidth*t,n=e.clientHeight*t;Q.current.scale.set(r,n,1)}J.current=!0}}}else{let t=H.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/W.factor,r=t.clientWidth*e,n=t.clientHeight*e;Q.current.scale.set(r,n,1),J.current=!0}Q.current.lookAt(e.camera.position)}}});let ei=o.useMemo(()=>({vertexShader:M?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[M]);return o.createElement("group",(0,a.Z)({},U,{ref:G}),E&&!ee&&o.createElement("mesh",{castShadow:k,receiveShadow:T,ref:Q},C||o.createElement("planeGeometry",null),A||o.createElement("shaderMaterial",{side:l.DoubleSide,vertexShader:ei.vertexShader,fragmentShader:ei.fragmentShader})))})},1789:function(e,t,r){let n,i,a,o;r.d(t,{N:function(){return nn}});var s,l,u=r(2988),c=r(2265),d=r(7776),f=r(5238);let h=C(),p=e=>S(e,h),v=C();p.write=e=>S(e,v);let g=C();p.onStart=e=>S(e,g);let m=C();p.onFrame=e=>S(e,m);let y=C();p.onFinish=e=>S(e,y);let b=[];p.setTimeout=(e,t)=>{let r=p.now()+t,n=()=>{let e=b.findIndex(e=>e.cancel==n);~e&&b.splice(e,1),M-=~e?1:0},i={time:r,handler:e,cancel:n};return b.splice(w(r),0,i),M+=1,k(),i};let w=e=>~(~b.findIndex(t=>t.time>e)||~b.length);p.cancel=e=>{g.delete(e),m.delete(e),y.delete(e),h.delete(e),v.delete(e)},p.sync=e=>{E=!0,p.batchedUpdates(e),E=!1},p.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...e){t=e,p.onStart(r)}return n.handler=e,n.cancel=()=>{g.delete(r),t=null},n};let _="undefined"!=typeof window?window.requestAnimationFrame:()=>{};p.use=e=>_=e,p.now="undefined"!=typeof performance?()=>performance.now():Date.now,p.batchedUpdates=e=>e(),p.catch=console.error,p.frameLoop="always",p.advance=()=>{"demand"!==p.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):A()};let x=-1,M=0,E=!1;function S(e,t){E?(t.delete(e),e(0)):(t.add(e),k())}function k(){x<0&&(x=0,"demand"!==p.frameLoop&&_(T))}function T(){~x&&(_(T),p.batchedUpdates(A))}function A(){let e=x,t=w(x=p.now());if(t&&(P(b.splice(0,t),e=>e.handler()),M-=t),!M){x=-1;return}g.flush(),h.flush(e?Math.min(64,x-e):16.667),m.flush(),v.flush(),y.flush()}function C(){let e=new Set,t=e;return{add(r){M+=t!=e||e.has(r)?0:1,e.add(r)},delete:r=>(M-=t==e&&e.has(r)?1:0,e.delete(r)),flush(r){t.size&&(e=new Set,M-=t.size,P(t,t=>t(r)&&e.add(t)),M+=e.size,t=e)}}}function P(e,t){e.forEach(e=>{try{t(e)}catch(e){p.catch(e)}})}function I(){}let R=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),D={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function O(e,t){if(D.arr(e)){if(!D.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}let U=(e,t)=>e.forEach(t);function F(e,t,r){if(D.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(let n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}let L=e=>D.und(e)?[]:D.arr(e)?e:[e];function B(e,t){if(e.size){let r=Array.from(e);e.clear(),U(r,t)}}let j=(e,...t)=>B(e,e=>e(...t)),N=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),z=null,V=!1,W=I;var H=Object.freeze({__proto__:null,get createStringInterpolator(){return n},get to(){return i},get colors(){return z},get skipAnimation(){return V},get willAdvance(){return W},assign:e=>{e.to&&(i=e.to),e.now&&(p.now=e.now),void 0!==e.colors&&(z=e.colors),null!=e.skipAnimation&&(V=e.skipAnimation),e.createStringInterpolator&&(n=e.createStringInterpolator),e.requestAnimationFrame&&p.use(e.requestAnimationFrame),e.batchedUpdates&&(p.batchedUpdates=e.batchedUpdates),e.willAdvance&&(W=e.willAdvance),e.frameLoop&&(p.frameLoop=e.frameLoop)}});let q=new Set,G=[],X=[],$=0,Y={get idle(){return!q.size&&!G.length},start(e){$>e.priority?(q.add(e),p.onStart(K)):(Z(e),p(J))},advance:J,sort(e){if($)p.onFrame(()=>Y.sort(e));else{let t=G.indexOf(e);~t&&(G.splice(t,1),Q(e))}},clear(){G=[],q.clear()}};function K(){q.forEach(Z),q.clear(),p(J)}function Z(e){G.includes(e)||Q(e)}function Q(e){G.splice(function(e,t){let r=e.findIndex(t);return r<0?e.length:r}(G,t=>t.priority>e.priority),0,e)}function J(e){let t=X;for(let r=0;r<G.length;r++){let n=G[r];$=n.priority,n.idle||(W(n),n.advance(e),n.idle||t.push(n))}return $=0,(X=G).length=0,(G=t).length>0}let ee="[-+]?\\d*\\.?\\d+",et=ee+"%";function er(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}let en=RegExp("rgb"+er(ee,ee,ee)),ei=RegExp("rgba"+er(ee,ee,ee,ee)),ea=RegExp("hsl"+er(ee,et,et)),eo=RegExp("hsla"+er(ee,et,et,ee)),es=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,el=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,eu=/^#([0-9a-fA-F]{6})$/,ec=/^#([0-9a-fA-F]{8})$/;function ed(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ef(e,t,r){let n=r<.5?r*(1+t):r+t-r*t,i=2*r-n;return Math.round(255*ed(i,n,e+1/3))<<24|Math.round(255*ed(i,n,e))<<16|Math.round(255*ed(i,n,e-1/3))<<8}function eh(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function ep(e){return(parseFloat(e)%360+360)%360/360}function ev(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function eg(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function em(e){let t;let r="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=eu.exec(e))?parseInt(t[1]+"ff",16)>>>0:z&&void 0!==z[e]?z[e]:(t=en.exec(e))?(eh(t[1])<<24|eh(t[2])<<16|eh(t[3])<<8|255)>>>0:(t=ei.exec(e))?(eh(t[1])<<24|eh(t[2])<<16|eh(t[3])<<8|ev(t[4]))>>>0:(t=es.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ec.exec(e))?parseInt(t[1],16)>>>0:(t=el.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ea.exec(e))?(255|ef(ep(t[1]),eg(t[2]),eg(t[3])))>>>0:(t=eo.exec(e))?(ef(ep(t[1]),eg(t[2]),eg(t[3]))|ev(t[4]))>>>0:null;if(null===r)return e;let n=(4278190080&(r=r||0))>>>24,i=(16711680&r)>>>16,a=(65280&r)>>>8,o=(255&r)/255;return`rgba(${n}, ${i}, ${a}, ${o})`}let ey=(e,t,r)=>{if(D.fun(e))return e;if(D.arr(e))return ey({range:e,output:t,extrapolate:r});if(D.str(e.output[0]))return n(e);let i=e.output,a=e.range||[0,1],o=e.extrapolateLeft||e.extrapolate||"extend",s=e.extrapolateRight||e.extrapolate||"extend",l=e.easing||(e=>e);return t=>{let r=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(t,a);return function(e,t,r,n,i,a,o,s,l){let u=l?l(e):e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>r){if("identity"===s)return u;"clamp"===s&&(u=r)}return n===i?n:t===r?e<=t?n:i:(t===-1/0?u=-u:r===1/0?u-=t:u=(u-t)/(r-t),u=a(u),n===-1/0?u=-u:i===1/0?u+=n:u=u*(i-n)+n,u)}(t,a[r],a[r+1],i[r],i[r+1],l,o,s,e.map)}};function eb(){return(eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let ew=Symbol.for("FluidValue.get"),e_=Symbol.for("FluidValue.observers"),ex=e=>!!(e&&e[ew]),eM=e=>e&&e[ew]?e[ew]():e,eE=e=>e[e_]||null;function eS(e,t){let r=e[e_];r&&r.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}class ek{constructor(e){if(this[ew]=void 0,this[e_]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");eT(this,e)}}let eT=(e,t)=>eP(e,ew,t);function eA(e,t){if(e[ew]){let r=e[e_];r||eP(e,e_,r=new Set),!r.has(t)&&(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function eC(e,t){let r=e[e_];if(r&&r.has(t)){let n=r.size-1;n?r.delete(t):e[e_]=null,e.observerRemoved&&e.observerRemoved(n,t)}}let eP=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),eI=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eR=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eD=RegExp(`(${eI.source})(%|[a-z]+)`,"i"),eO=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eF=e=>{let[t,r]=eL(e);if(!t||N())return e;let n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(e)return e}else if(r&&eU.test(r))return eF(r);else if(r)return r;return e},eL=e=>{let t=eU.exec(e);if(!t)return[,];let[,r,n]=t;return[r,n]},eB=(e,t,r,n,i)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,ej=e=>{a||(a=z?RegExp(`(${Object.keys(z).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>eM(e).replace(eU,eF).replace(eR,em).replace(a,em)),r=t.map(e=>e.match(eI).map(Number)),n=r[0].map((e,t)=>r.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>ey(eb({},e,{output:t})));return e=>{var r;let i=!eD.test(t[0])&&(null==(r=t.find(e=>eD.test(e)))?void 0:r.replace(eI,"")),a=0;return t[0].replace(eI,()=>`${n[a++](e)}${i||""}`).replace(eO,eB)}},eN="react-spring: ",ez=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eN}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},eV=ez(console.warn),eW=ez(console.warn);function eH(e){return D.str(e)&&("#"==e[0]||/\d/.test(e)||!N()&&eU.test(e)||e in(z||{}))}new WeakMap,new WeakMap,new WeakMap,new WeakMap;let eq=N()?c.useEffect:c.useLayoutEffect,eG=()=>{let e=(0,c.useRef)(!1);return eq(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function eX(){let e=(0,c.useState)()[1],t=eG();return()=>{t.current&&e(Math.random())}}let e$=e=>(0,c.useEffect)(e,eY),eY=[];function eK(e){let t=(0,c.useRef)();return(0,c.useEffect)(()=>{t.current=e}),t.current}let eZ=Symbol.for("Animated:node"),eQ=e=>!!e&&e[eZ]===e,eJ=e=>e&&e[eZ],e1=(e,t)=>R(e,eZ,t),e0=e=>e&&e[eZ]&&e[eZ].getPayload();class e2{constructor(){this.payload=void 0,e1(this,this)}getPayload(){return this.payload||[]}}class e3 extends e2{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,D.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new e3(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return D.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,D.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class e5 extends e3{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=ey({output:[e,e]})}static create(e){return new e5(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(D.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=ey({output:[this.getValue(),e]})),this._value=0,super.reset()}}let e4={dependencies:null};class e6 extends e2{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return F(this.source,(r,n)=>{eQ(r)?t[n]=r.getValue(e):ex(r)?t[n]=eM(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&U(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return F(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){e4.dependencies&&ex(e)&&e4.dependencies.add(e);let t=e0(e);t&&U(t,e=>this.add(e))}}class e7 extends e6{constructor(e){super(e)}static create(e){return new e7(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,r)=>t.setValue(e[r])).some(Boolean):(super.setValue(e.map(e8)),!0)}}function e8(e){return(eH(e)?e5:e3).create(e)}function e9(e){let t=eJ(e);return t?t.constructor:D.arr(e)?e7:eH(e)?e5:e3}function te(){return(te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let tt=(e,t)=>{let r=!D.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,c.forwardRef)((n,i)=>{let a=(0,c.useRef)(null),o=r&&(0,c.useCallback)(e=>{a.current=(i&&(D.fun(i)?i(e):i.current=e),e)},[i]),[s,l]=function(e,t){let r=new Set;return e4.dependencies=r,e.style&&(e=te({},e,{style:t.createAnimatedStyle(e.style)})),e=new e6(e),e4.dependencies=null,[e,r]}(n,t),u=eX(),d=()=>{let e=a.current;(!r||e)&&!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&u()},f=new tr(d,l),h=(0,c.useRef)();eq(()=>(h.current=f,U(l,e=>eA(e,f)),()=>{h.current&&(U(h.current.deps,e=>eC(e,h.current)),p.cancel(h.current.update))})),(0,c.useEffect)(d,[]),e$(()=>()=>{let e=h.current;U(e.deps,t=>eC(t,e))});let v=t.getComponentProps(s.getValue());return c.createElement(e,te({},v,{ref:o}))})};class tr{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&p.write(this.update)}}let tn=Symbol.for("AnimatedComponent"),ti=e=>D.str(e)?e:e&&D.str(e.displayName)?e.displayName:D.fun(e)&&e.name||null;function ta(){return(ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function to(e,...t){return D.fun(e)?e(...t):e}let ts=(e,t)=>!0===e||!!(t&&e&&(D.fun(e)?e(t):L(e).includes(t))),tl=(e,t)=>D.obj(e)?t&&e[t]:e,tu=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tc=e=>e,td=(e,t=tc)=>{let r=tf;e.default&&!0!==e.default&&(r=Object.keys(e=e.default));let n={};for(let i of r){let r=t(e[i],i);D.und(r)||(n[i]=r)}return n},tf=["config","onProps","onStart","onChange","onPause","onResume","onRest"],th={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tp(e){let t=function(e){let t={},r=0;if(F(e,(e,n)=>{!th[n]&&(t[n]=e,r++)}),r)return t}(e);if(t){let r={to:t};return F(e,(e,n)=>n in t||(r[n]=e)),r}return ta({},e)}function tv(e){return e=eM(e),D.arr(e)?e.map(tv):eH(e)?H.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function tg(e){return D.fun(e)||D.arr(e)&&D.obj(e[0])}let tm=ta({},{tension:170,friction:26},{mass:1,damping:1,easing:e=>e,clamp:!1});class ty{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,tm)}}function tb(e,t){if(D.und(t.decay)){let r=!D.und(t.tension)||!D.und(t.friction);!r&&D.und(t.frequency)&&D.und(t.damping)&&D.und(t.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}let tw=[];class t_{constructor(){this.changed=!1,this.values=tw,this.toValues=null,this.fromValues=tw,this.to=void 0,this.from=void 0,this.config=new ty,this.immediate=!1}}function tx(e,{key:t,props:r,defaultProps:n,state:i,actions:a}){return new Promise((o,s)=>{var l;let u,c;let d=ts(null!=(l=r.cancel)?l:null==n?void 0:n.cancel,t);if(d)v();else{D.und(r.pause)||(i.paused=ts(r.pause,t));let e=null==n?void 0:n.pause;!0!==e&&(e=i.paused||ts(e,t)),u=to(r.delay||0,t),e?(i.resumeQueue.add(h),a.pause()):(a.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(c),c.cancel(),u=c.time-p.now()}function h(){u>0&&!H.skipAnimation?(i.delayed=!0,c=p.setTimeout(v,u),i.pauseQueue.add(f),i.timeouts.add(c)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),e<=(i.cancelId||0)&&(d=!0);try{a.start(ta({},r,{callId:e,cancel:d}),o)}catch(e){s(e)}}})}let tM=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tk(e.get()):t.every(e=>e.noop)?tE(e.get()):tS(e.get(),t.every(e=>e.finished)),tE=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tS=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),tk=e=>({value:e,cancelled:!0,finished:!1});function tT(e,t,r,n){let{callId:i,parentId:a,onRest:o}=t,{asyncTo:s,promise:l}=r;return a||e!==s||t.reset?r.promise=(async()=>{let u,c,d;r.asyncId=i,r.asyncTo=e;let f=td(t,(e,t)=>"onRest"===t?void 0:e),h=new Promise((e,t)=>(u=e,c=t)),v=e=>{let t=i<=(r.cancelId||0)&&tk(n)||i!==r.asyncId&&tS(n,!1);if(t)throw e.result=t,c(e),e},g=(e,t)=>{let a=new tC,o=new tP;return(async()=>{if(H.skipAnimation)throw tA(r),o.result=tS(n,!1),c(o),o;v(a);let s=D.obj(e)?ta({},e):ta({},t,{to:e});s.parentId=i,F(f,(e,t)=>{D.und(s[t])&&(s[t]=e)});let l=await n.start(s);return v(a),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),l})()};if(H.skipAnimation)return tA(r),tS(n,!1);try{let t;t=D.arr(e)?(async e=>{for(let t of e)await g(t)})(e):Promise.resolve(e(g,n.stop.bind(n))),await Promise.all([t.then(u),h]),d=tS(n.get(),!0,!1)}catch(e){if(e instanceof tC)d=e.result;else if(e instanceof tP)d=e.result;else throw e}finally{i==r.asyncId&&(r.asyncId=a,r.asyncTo=a?s:void 0,r.promise=a?l:void 0)}return D.fun(o)&&p.batchedUpdates(()=>{o(d,n,n.item)}),d})():l}function tA(e,t){B(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class tC extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class tP extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}let tI=e=>e instanceof tD,tR=1;class tD extends ek{constructor(...e){super(...e),this.id=tR++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=eJ(this);return e&&e.getValue()}to(...e){return H.to(this,e)}interpolate(...e){return eV(`${eN}The "interpolate" function is deprecated in v9 (use "to" instead)`),H.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){eS(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Y.sort(this),eS(this,{type:"priority",parent:this,priority:e})}}let tO=Symbol.for("SpringPhase"),tU=e=>(1&e[tO])>0,tF=e=>(2&e[tO])>0,tL=e=>(4&e[tO])>0,tB=(e,t)=>t?e[tO]|=3:e[tO]&=-3,tj=(e,t)=>t?e[tO]|=4:e[tO]&=-5;class tN extends tD{constructor(e,t){if(super(),this.key=void 0,this.animation=new t_,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!D.und(e)||!D.und(t)){let r=D.obj(e)?ta({},e):ta({},t,{from:e});D.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(tF(this)||this._state.asyncTo)||tL(this)}get goal(){return eM(this.animation.to)}get velocity(){let e=eJ(this);return e instanceof e3?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return tU(this)}get isAnimating(){return tF(this)}get isPaused(){return tL(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1,n=this.animation,{config:i,toValues:a}=n,o=e0(n.to);!o&&ex(n.to)&&(a=L(eM(n.to))),n.values.forEach((s,l)=>{if(s.done)return;let u=s.constructor==e5?1:o?o[l].lastPosition:a[l],c=n.immediate,d=u;if(!c){let t;if(d=s.lastPosition,i.tension<=0){s.done=!0;return}let r=s.elapsedTime+=e,a=n.fromValues[l],o=null!=s.v0?s.v0:s.v0=D.arr(i.velocity)?i.velocity[l]:i.velocity,f=i.precision||(a==u?.005:Math.min(1,.001*Math.abs(u-a)));if(D.und(i.duration)){if(i.decay){let e=!0===i.decay?.998:i.decay,n=Math.exp(-(1-e)*r);d=a+o/(1-e)*(1-n),c=Math.abs(s.lastPosition-d)<=f,t=o*n}else{t=null==s.lastVelocity?o:s.lastVelocity;let r=i.restVelocity||f/10,n=i.clamp?0:i.bounce,l=!D.und(n),h=a==u?s.v0>0:a<u,p=Math.ceil(e/1);for(let e=0;e<p&&!(!(Math.abs(t)>r)&&(c=Math.abs(u-d)<=f));++e){l&&(d==u||d>u==h)&&(t=-t*n,d=u);let e=(-(1e-6*i.tension)*(d-u)+-(.001*i.friction)*t)/i.mass;t+=1*e,d+=1*t}}}else{let n=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,s.durationProgress>0&&(s.elapsedTime=i.duration*s.durationProgress,r=s.elapsedTime+=e)),n=(n=(i.progress||0)+r/this._memoizedDuration)>1?1:n<0?0:n,s.durationProgress=n),t=((d=a+i.easing(n)*(u-a))-s.lastPosition)/e,c=1==n}s.lastVelocity=t,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}o&&!o[l].done&&(c=!1),c?s.done=!0:t=!1,s.setValue(d,i.round)&&(r=!0)});let s=eJ(this),l=s.getValue();if(t){let e=eM(n.to);(l!==e||r)&&!i.decay?(s.setValue(e),this._onChange(e)):r&&i.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(e){return p.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(tF(this)){let{to:e,config:t}=this.animation;p.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return D.und(e)?(r=this.queue||[],this.queue=[]):r=[D.obj(e)?e:ta({},t,{to:e})],Promise.all(r.map(e=>this._update(e))).then(e=>tM(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tA(this._state,e&&this._lastCallId),p.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:r,from:n}=e;(null==(r=D.obj(r)?r[t]:r)||tg(r))&&(r=void 0),null==(n=D.obj(n)?n[t]:n)&&(n=void 0);let i={to:r,from:n};return tU(this)||(e.reverse&&([r,n]=[n,r]),n=eM(n),D.und(n)?eJ(this)||this._set(r):this._set(n)),i}_update(e,t){let r=ta({},e),{key:n,defaultProps:i}=this;r.default&&Object.assign(i,td(r,(e,t)=>/^on/.test(t)?tl(e,n):e)),tG(this,r,"onProps"),tX(this,"onProps",r,this);let a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return tx(++this._lastCallId,{key:n,props:r,defaultProps:i,state:o,actions:{pause:()=>{tL(this)||(tj(this,!0),j(o.pauseQueue),tX(this,"onPause",tS(this,tz(this,this.animation.to)),this))},resume:()=>{tL(this)&&(tj(this,!1),tF(this)&&this._resume(),j(o.resumeQueue),tX(this,"onResume",tS(this,tz(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(e=>{if(r.loop&&e.finished&&!(t&&e.noop)){let e=tV(r);if(e)return this._update(e,!0)}return e})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(tk(this));let n=!D.und(e.to),i=!D.und(e.from);if(n||i){if(!(t.callId>this._lastToId))return r(tk(this));this._lastToId=t.callId}let{key:a,defaultProps:o,animation:s}=this,{to:l,from:u}=s,{to:c=l,from:d=u}=e;i&&!n&&(!t.default||D.und(c))&&(c=d),t.reverse&&([c,d]=[d,c]);let f=!O(d,u);f&&(s.from=d),d=eM(d);let h=!O(c,l);h&&this._focus(c);let v=tg(t.to),{config:g}=s,{decay:m,velocity:y}=g;(n||i)&&(g.velocity=0),t.config&&!v&&function(e,t,r){for(let n in r&&(tb(r=ta({},r),t),t=ta({},r,t)),tb(e,t),Object.assign(e,t),tm)null==e[n]&&(e[n]=tm[n]);let{mass:n,frequency:i,damping:a}=e;D.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*n,e.friction=4*Math.PI*a*n/i)}(g,to(t.config,a),t.config!==o.config?to(o.config,a):void 0);let b=eJ(this);if(!b||D.und(c))return r(tS(this,!0));let w=D.und(t.reset)?i&&!t.default:!D.und(d)&&ts(t.reset,a),_=w?d:this.get(),x=tv(c),M=D.num(x)||D.arr(x)||eH(x),E=!v&&(!M||ts(o.immediate||t.immediate,a));if(h){let e=e9(c);if(e!==b.constructor){if(E)b=this._set(x);else throw Error(`Cannot animate between ${b.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let S=b.constructor,k=ex(c),T=!1;if(!k){let e=w||!tU(this)&&f;(h||e)&&(k=!(T=O(tv(_),x))),(O(s.immediate,E)||E)&&O(g.decay,m)&&O(g.velocity,y)||(k=!0)}if(T&&tF(this)&&(s.changed&&!w?k=!0:k||this._stop(l)),!v&&((k||ex(l))&&(s.values=b.getPayload(),s.toValues=ex(c)?null:S==e5?[1]:L(x)),s.immediate==E||(s.immediate=E,E||w||this._set(l)),k)){let{onRest:e}=s;U(tq,e=>tG(this,t,e));let n=tS(this,tz(this,l));j(this._pendingCalls,n),this._pendingCalls.add(r),s.changed&&p.batchedUpdates(()=>{s.changed=!w,null==e||e(n,this),w?to(o.onRest,n):null==s.onStart||s.onStart(n,this)})}w&&this._set(_),v?r(tT(t.to,t,this._state,this)):k?this._start():tF(this)&&!h?this._pendingCalls.add(r):r(tE(_))}_focus(e){let t=this.animation;e!==t.to&&(eE(this)&&this._detach(),t.to=e,eE(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;ex(t)&&(eA(t,this),tI(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;ex(e)&&eC(e,this)}_set(e,t=!0){let r=eM(e);if(!D.und(r)){let e=eJ(this);if(!e||!O(r,e.getValue())){let n=e9(r);e&&e.constructor==n?e.setValue(r):e1(this,n.create(r)),e&&p.batchedUpdates(()=>{this._onChange(r,t)})}}return eJ(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,tX(this,"onStart",tS(this,tz(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),to(this.animation.onChange,e,this)),to(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;eJ(this).reset(eM(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),tF(this)||(tB(this,!0),tL(this)||this._resume())}_resume(){H.skipAnimation?this.finish():Y.start(this)}_stop(e,t){if(tF(this)){tB(this,!1);let r=this.animation;U(r.values,e=>{e.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),eS(this,{type:"idle",parent:this});let n=t?tk(this.get()):tS(this.get(),tz(this,null!=e?e:r.to));j(this._pendingCalls,n),r.changed&&(r.changed=!1,tX(this,"onRest",n,this))}}}function tz(e,t){let r=tv(t);return O(tv(e.get()),r)}function tV(e,t=e.loop,r=e.to){let n=to(t);if(n){let i=!0!==n&&tp(n),a=(i||e).reverse,o=!i||i.reset;return tW(ta({},e,{loop:t,default:!1,pause:void 0,to:!a||tg(r)?r:void 0,from:o?e.from:void 0,reset:o},i))}}function tW(e){let{to:t,from:r}=e=tp(e),n=new Set;return D.obj(t)&&tH(t,n),D.obj(r)&&tH(r,n),e.keys=n.size?Array.from(n):null,e}function tH(e,t){F(e,(e,r)=>null!=e&&t.add(r))}let tq=["onStart","onRest","onChange","onPause","onResume"];function tG(e,t,r){e.animation[r]=t[r]!==tu(t,r)?tl(t[r],e.key):void 0}function tX(e,t,...r){var n,i,a,o;null==(n=(i=e.animation)[t])||n.call(i,...r),null==(a=(o=e.defaultProps)[t])||a.call(o,...r)}let t$=["onStart","onChange","onRest"],tY=1;class tK{constructor(e,t){this.id=tY++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(ta({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];D.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(tW(e)),this}start(e){let{queue:t}=this;return(e?t=L(e).map(tW):this.queue=[],this._flush)?this._flush(this,t):(t3(this,t),tZ(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let r=this.springs;U(L(t),t=>r[t].stop(!!e))}else tA(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(D.und(e))this.start({pause:!0});else{let t=this.springs;U(L(e),e=>t[e].pause())}return this}resume(e){if(D.und(e))this.start({pause:!1});else{let t=this.springs;U(L(e),e=>t[e].resume())}return this}each(e){F(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,B(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let a=!n&&this._started,o=i||a&&r.size?this.get():null;i&&t.size&&B(t,([e,t])=>{t.value=o,e(t,this,this._item)}),a&&(this._started=!1,B(r,([e,t])=>{t.value=o,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}p.onFrame(this._onFrame)}}function tZ(e,t){return Promise.all(t.map(t=>tQ(e,t))).then(t=>tM(e,t))}async function tQ(e,t,r){let{keys:n,to:i,from:a,loop:o,onRest:s,onResolve:l}=t,u=D.obj(t.default)&&t.default;o&&(t.loop=!1),!1===i&&(t.to=null),!1===a&&(t.from=null);let c=D.arr(i)||D.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):U(t$,r=>{let n=t[r];if(D.fun(n)){let i=e._events[r];t[r]=({finished:e,cancelled:t})=>{let r=i.get(n);r?(e||(r.finished=!1),t&&(r.cancelled=!0)):i.set(n,{value:null,finished:e||!1,cancelled:t||!1})},u&&(u[r]=t[r])}});let d=e._state;!d.paused===t.pause?(d.paused=t.pause,j(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);let f=(n||Object.keys(e.springs)).map(r=>e.springs[r].start(t)),h=!0===t.cancel||!0===tu(t,"cancel");(c||h&&d.asyncId)&&f.push(tx(++e._lastAsyncId,{props:t,state:d,actions:{pause:I,resume:I,start(t,r){h?(tA(d,e._lastAsyncId),r(tk(e))):(t.onRest=s,r(tT(c,t,d,e)))}}})),d.paused&&await new Promise(e=>{d.resumeQueue.add(e)});let v=tM(e,await Promise.all(f));if(o&&v.finished&&!(r&&v.noop)){let r=tV(t,o,i);if(r)return t3(e,[r]),tQ(e,r,!0)}return l&&p.batchedUpdates(()=>l(v,e,e.item)),v}function tJ(e,t){let r=ta({},e.springs);return t&&U(L(t),e=>{D.und(e.keys)&&(e=tW(e)),D.obj(e.to)||(e=ta({},e,{to:void 0})),t2(r,e,e=>t0(e))}),t1(e,r),r}function t1(e,t){F(t,(t,r)=>{e.springs[r]||(e.springs[r]=t,eA(t,e))})}function t0(e,t){let r=new tN;return r.key=e,t&&eA(r,t),r}function t2(e,t,r){t.keys&&U(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function t3(e,t){U(t,t=>{t2(e.springs,t,t=>t0(t,e))})}let t5=["children"],t4=e=>{let{children:t}=e,r=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t5),n=(0,c.useContext)(t6),i=r.pause||!!n.pause,a=r.immediate||!!n.immediate;r=function(e,t){let[r]=(0,c.useState)(()=>({inputs:t,result:e()})),n=(0,c.useRef)(),i=n.current,a=i;return a?t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,a.inputs)||(a={inputs:t,result:e()}):a=r,(0,c.useEffect)(()=>{n.current=a,i==r&&(r.inputs=r.result=void 0)},[a]),a.result}(()=>({pause:i,immediate:a}),[i,a]);let{Provider:o}=t6;return c.createElement(o,{value:r},t)},t6=(s={},Object.assign(t4,c.createContext(s)),t4.Provider._context=t4,t4.Consumer._context=t4,t4);t4.Provider=t6.Provider,t4.Consumer=t6.Consumer;let t7=()=>{let e=[],t=function(t){eW(`${eN}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let n=[];return U(e,(e,i)=>{if(D.und(t))n.push(e.start());else{let a=r(t,e,i);a&&n.push(e.start(a))}}),n};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let r=e.indexOf(t);~r&&e.splice(r,1)},t.pause=function(){return U(e,e=>e.pause(...arguments)),this},t.resume=function(){return U(e,e=>e.resume(...arguments)),this},t.set=function(t){U(e,e=>e.set(t))},t.start=function(t){let r=[];return U(e,(e,n)=>{if(D.und(t))r.push(e.start());else{let i=this._getProps(t,e,n);i&&r.push(e.start(i))}}),r},t.stop=function(){return U(e,e=>e.stop(...arguments)),this},t.update=function(t){return U(e,(e,r)=>e.update(this._getProps(t,e,r))),this};let r=function(e,t,r){return D.fun(e)?e(r,t):e};return t._getProps=r,t};(l=o||(o={})).MOUNT="mount",l.ENTER="enter",l.UPDATE="update",l.LEAVE="leave";class t8 extends tD{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=ey(...t);let r=this._get();e1(this,e9(r).create(r))}advance(e){let t=this._get();O(t,this.get())||(eJ(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&re(this._active)&&rt(this)}_get(){let e=D.arr(this.source)?this.source.map(eM):L(eM(this.source));return this.calc(...e)}_start(){this.idle&&!re(this._active)&&(this.idle=!1,U(e0(this),e=>{e.done=!1}),H.skipAnimation?(p.batchedUpdates(()=>this.advance()),rt(this)):Y.start(this))}_attach(){let e=1;U(L(this.source),t=>{ex(t)&&eA(t,this),tI(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){U(L(this.source),e=>{ex(e)&&eC(e,this)}),this._active.clear(),rt(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=L(this.source).reduce((e,t)=>Math.max(e,(tI(t)?t.priority:0)+1),0))}}function t9(e){return!1!==e.idle}function re(e){return!e.size||Array.from(e).every(t9)}function rt(e){e.idle||(e.idle=!0,U(e0(e),e=>{e.done=!0}),eS(e,{type:"idle",parent:e}))}H.assign({createStringInterpolator:ej,to:(e,t)=>new t8(e,t)}),Y.advance;let rr=["primitive"].concat(Object.keys(d).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));H.assign({createStringInterpolator:ej,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},frameLoop:"demand"}),(0,f.n)(()=>{p.advance()});let rn=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=e=>new e6(e),getComponentProps:n=e=>e}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},a=e=>{let t=ti(e)||"Anonymous";return(e=D.str(e)?a[e]||(a[e]=tt(e,i)):e[tn]||(e[tn]=tt(e,i))).displayName=`Animated(${t})`,e};return F(e,(t,r)=>{D.arr(e)&&(r=ti(t)),a[r]=a(t)}),{animated:a}})(rr,{applyAnimatedValues:f.j}).animated,ri={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function ra(e,t,r){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*r):e*t*r/(t+r*e)}function ro(e,t,r,n=.15){return 0===n?Math.max(t,Math.min(e,r)):e<t?-ra(t-e,r-t,n)+t:e>r?+ra(e-r,r-t,n)+r:e}function rs(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ru(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach(function(t){rs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let rc={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function rd(e){return e?e[0].toUpperCase()+e.slice(1):""}let rf=["enter","leave"],rh=["gotpointercapture","lostpointercapture"];function rp(e){return"touches"in e}function rv(e){return rp(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function rg(e){return rp(e)?("touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches)[0]:e}function rm(e,t){try{let r=t.clientX-e.clientX,n=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,a=(t.clientY+e.clientY)/2,o=Math.hypot(r,n);return{angle:-(180*Math.atan2(r,n))/Math.PI,distance:o,origin:[i,a]}}catch(e){}return null}function ry(e,t){let[r,n]=Array.from(e.touches).filter(e=>t.includes(e.identifier));return rm(r,n)}function rb(e){let t=rg(e);return rp(e)?t.identifier:t.pointerId}function rw(e){let t=rg(e);return[t.clientX,t.clientY]}function r_(e){let{deltaX:t,deltaY:r,deltaMode:n}=e;return 1===n?(t*=40,r*=40):2===n&&(t*=800,r*=800),[t,r]}function rx(e,...t){return"function"==typeof e?e(...t):e}function rM(){}function rE(e,t){return Object.assign({},t,e||{})}class rS{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:r,args:n}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?rx(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:r,shared:n}=this;t.args=this.args;let i=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,function(e){let t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){let{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a})}return t}(e)),n.down=n.pressed=n.buttons%2==1||n.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let e=t._delta.map(Math.abs);ri.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);let[a,o]=t._movement,[s,l]=r.threshold,{_step:u,values:c}=t;if(r.hasCustomTransform?(!1===u[0]&&(u[0]=Math.abs(a)>=s&&c[0]),!1===u[1]&&(u[1]=Math.abs(o)>=l&&c[1])):(!1===u[0]&&(u[0]=Math.abs(a)>=s&&Math.sign(a)*s),!1===u[1]&&(u[1]=Math.abs(o)>=l&&Math.sign(o)*l)),t.intentional=!1!==u[0]||!1!==u[1],!t.intentional)return;let d=[0,0];if(r.hasCustomTransform){let[e,t]=c;d[0]=!1!==u[0]?e-u[0]:0,d[1]=!1!==u[1]?t-u[1]:0}else d[0]=!1!==u[0]?a-u[0]:0,d[1]=!1!==u[1]?o-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);let f=t.offset,h=t._active&&!t._blocked||t.active;h&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=rx(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));let[p,v]=t.offset,[[g,m],[y,b]]=t._bounds;t.overflow=[p<g?-1:p>m?1:0,v<y?-1:v>b?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);let w=t._active&&r.rubberband||[0,0];if(t.offset=function(e,[t,r],[n,i]){let[[a,o],[s,l]]=e;return[ro(t,a,o,n),ro(r,s,l,i)]}(t._bounds,t.offset,w),t.delta=ri.sub(t.offset,f),this.computeMovement(),h&&(!t.last||i>32)){t.delta=ri.sub(t.offset,f);let e=t.delta.map(Math.abs);ri.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[e[0]/i,e[1]/i],t.timeDelta=i)}}emit(){let e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;let n=this.handler(ru(ru(ru({},t),e),{},{[this.aliasKey]:e.values}));void 0!==n&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class rk extends rS{constructor(...e){super(...e),rs(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ri.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ri.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let t=this.state,r=this.config;if(!t.axis&&e){let n="object"==typeof r.axisThreshold?r.axisThreshold[rv(e)]:r.axisThreshold;t.axis=function([e,t],r){let n=Math.abs(e),i=Math.abs(t);return n>i&&n>r?"x":i>n&&i>r?"y":void 0}(t._movement,n)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}let rT=e=>e,rA={enabled:(e=!0)=>e,eventOptions:(e,t,r)=>ru(ru({},r.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return ri.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?ri.toVector(e):void 0,transform(e,t,r){let n=e||r.shared.transform;return this.hasCustomTransform=!!n,n||rT},threshold:e=>ri.toVector(e,0)},rC=0,rP=ru(ru({},rA),{},{axis(e,t,{axis:r}){if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:(e=rC)=>e,bounds(e={}){if("function"==typeof e)return t=>rP.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=e;return[[t,r],[n,i]]}}),rI={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class rR extends rk{constructor(...e){super(...e),rs(this,"ingKey","dragging")}reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),n={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=rP.bounds(n)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let t=this.config,r=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;let n=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),n&&n.size>1&&r._pointerActive||(this.start(e),this.setupPointer(e),r._pointerId=rb(e),r._pointerActive=!0,this.computeValues(rw(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==rv(e)?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let t=this.state,r=this.config;if(!t._pointerActive)return;let n=rb(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;let i=rw(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ri.sub(i,t._values),this.computeValues(i)),ri.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll){if(!t.axis)return;if(t.axis===r.preventScrollAxis||"xy"===r.preventScrollAxis){t._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(e){}let t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;let n=rb(e);if(void 0!==t._pointerId&&n!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[i,a]=t._distance;if(t.tap=i<=r.tapsThreshold&&a<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{let[e,n]=t._delta,[i,a]=t._movement,[o,s]=r.swipe.velocity,[l,u]=r.swipe.distance,c=r.swipe.duration;if(t.elapsedTime<c){let r=Math.abs(e/t.timeDelta),c=Math.abs(n/t.timeDelta);r>o&&Math.abs(i)>l&&(t.swipe[0]=Math.sign(e)),c>s&&Math.abs(a)>u&&(t.swipe[1]=Math.sign(n))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,"persist"in e&&"function"==typeof e.persist&&e.persist();let t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let t=rI[e.key];if(t){let r=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,n),r._keyboardActive=!0,ri.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in rI&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}let rD="undefined"!=typeof window&&window.document&&window.document.createElement;function rO(){return rD&&"ontouchstart"in window}let rU={isBrowser:rD,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:rO(),touchscreen:rO()||rD&&window.navigator.maxTouchPoints>1,pointer:rD&&"onpointerdown"in window,pointerLock:rD&&"exitPointerLock"in window.document},rF=10,rL={mouse:0,touch:0,pen:8},rB=ru(ru({},rP),{},{device(e,t,{pointer:{touch:r=!1,lock:n=!1,mouse:i=!1}={}}){return(this.pointerLock=n&&rU.pointerLock,rU.touch&&r)?"touch":this.pointerLock?"mouse":rU.pointer&&!i?"pointer":rU.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay="number"==typeof r?r:r||void 0===r&&e?250:void 0,rU.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&"pointer"===this.device&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:n=3,axis:i}){let a=ri.toVector(e,r?n:i?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:e=.5,distance:t=50,duration:r=250}={}){return{velocity:this.transform(ri.toVector(e)),distance:this.transform(ri.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?ru(ru({},rL),e):rL,keyboardDisplacement:(e=rF)=>e});function rj(e){let[t,r]=e.overflow,[n,i]=e._delta,[a,o]=e._direction;(t<0&&n>0&&a<0||t>0&&n<0&&a>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&i>0&&o<0||r>0&&i<0&&o>0)&&(e._movement[1]=e._movementBound[1])}class rN extends rS{constructor(...e){super(...e),rs(this,"ingKey","pinching"),rs(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){let{type:e,movement:t,lastOffset:r}=this.state;"wheel"===e?this.state.offset=ri.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){let{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){let e=this.state,[t,r]=e._movement;if(!e.axis){let n=30*Math.abs(t)-Math.abs(r);n<0?e.axis="angle":n>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){let e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);let t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(e=>r.has(e))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);let n=ry(e,t._touchIds);n&&this.pinchStart(e,n)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);let t=this.state,r=t._pointerEvents,n=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(e=>n.has(e))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);let i=rm(...Array.from(r.values()));i&&this.pinchStart(e,i)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;let t=ry(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){let t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;let r=rm(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){let r=this.state,n=r._values[1],i=t.angle-n,a=0;Math.abs(i)>270&&(a+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*a]),r.origin=t.origin,r.turns=a,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){let t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(e){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();let t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;let t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];let r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=ri.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){let t=this.config.modifierKey;(!t||(Array.isArray(t)?t.find(t=>e[t]):e[t]))&&(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||!e.cancelable||e.preventDefault();let t=this.state;t._delta=[-r_(e)[1]/100*t.offset[0],0],ri.addTo(t._movement,t._delta),rj(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){let t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}let rz=ru(ru({},rA),{},{device(e,t,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!rU.touch&&rU.gesture)return"gesture";if(rU.touch&&n)return"touch";if(rU.touchscreen){if(rU.pointer)return"pointer";if(rU.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:n={}}){let i=e=>{let t=rE(rx(r,e),{min:-1/0,max:1/0});return[t.min,t.max]},a=e=>{let t=rE(rx(n,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof r&&"function"!=typeof n?[i(),a()]:e=>[i(e),a(e)]},threshold(e,t,r){return this.lockDirection="lock"===r.axis,ri.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e});class rV extends rk{constructor(...e){super(...e),rs(this,"ingKey","moving")}move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(rw(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;let t=rw(e),r=this.state;r._delta=ri.sub(t,r._values),ri.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}let rW=ru(ru({},rP),{},{mouseOnly:(e=!0)=>e});class rH extends rk{constructor(...e){super(...e),rs(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();let t=this.state,r=function(e){var t,r;let{scrollX:n,scrollY:i,scrollLeft:a,scrollTop:o}=e.currentTarget;return[null!==(t=null!=n?n:a)&&void 0!==t?t:0,null!==(r=null!=i?i:o)&&void 0!==r?r:0]}(e);t._delta=ri.sub(r,t._values),ri.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}class rq extends rk{constructor(...e){super(...e),rs(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){let t=this.state;t._delta=r_(e),ri.addTo(t._movement,t._delta),rj(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}class rG extends rk{constructor(...e){super(...e),rs(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(rw(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;let t=this.state;if(!t._active)return;t._active=!1;let r=rw(e);t._movement=t._delta=ri.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}let rX=ru(ru({},rP),{},{mouseOnly:(e=!0)=>e}),r$=new Map,rY=new Map;function rK(e){r$.set(e.key,e.engine),rY.set(e.key,e.resolver)}let rZ={key:"drag",engine:rR,resolver:rB},rQ={key:"hover",engine:rG,resolver:rX},rJ={key:"move",engine:rV,resolver:rW},r1={key:"pinch",engine:rN,resolver:rz},r0={key:"scroll",engine:rH,resolver:rP},r2={key:"wheel",engine:rq,resolver:rP},r3={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=rU.isBrowser?window:void 0)=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},r5=["target","eventOptions","window","enabled","transform"];function r4(e={},t){let r={};for(let[n,i]of Object.entries(t))switch(typeof i){case"function":r[n]=i.call(r,e[n],n,e);break;case"object":r[n]=r4(e[n],i);break;case"boolean":i&&(r[n]=e[n])}return r}class r6{constructor(e,t){rs(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,n,i){let a=this._listeners,o=function(e,t=""){let r=rc[e];return e+(r&&r[t]||t)}(t,r),s=ru(ru({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(o,n,s);let l=()=>{e.removeEventListener(o,n,s),a.delete(l)};return a.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class r7{constructor(){rs(this,"_timeouts",new Map)}add(e,t,r=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...n))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class r8{constructor(e){rs(this,"gestures",new Set),rs(this,"_targetEventStore",new r6(this)),rs(this,"gestureEventStores",{}),rs(this,"gestureTimeoutStores",{}),rs(this,"handlers",{}),rs(this,"config",{}),rs(this,"pointerIds",new Set),rs(this,"touchIds",new Set),rs(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),e.drag&&r9(this,"drag"),e.wheel&&r9(this,"wheel"),e.scroll&&r9(this,"scroll"),e.move&&r9(this,"move"),e.pinch&&r9(this,"pinch"),e.hover&&r9(this,"hover")}setEventIds(e){return rp(e)?(this.touchIds=new Set(Array.from(e.touches).filter(t=>{var r,n;return t.target===e.currentTarget||(null===(r=e.currentTarget)||void 0===r||null===(n=r.contains)||void 0===n?void 0:n.call(r,t.target))}).map(e=>e.identifier)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,r={}){let{target:n,eventOptions:i,window:a,enabled:o,transform:s}=e,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,r5);if(r.shared=r4({target:n,eventOptions:i,window:a,enabled:o,transform:s},r3),t){let e=rY.get(t);r[t]=r4(ru({shared:r.shared},l),e)}else for(let e in l){let t=rY.get(e);t&&(r[e]=r4(ru({shared:r.shared},l[e]),t))}return r}(e,t,this.config)}clean(){for(let e of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let t;let r=this.config.shared,n={};if(!r.target||(t=r.target())){if(r.enabled){for(let r of this.gestures){let i=this.config[r],a=ne(n,i.eventOptions,!!t);i.enabled&&new(r$.get(r))(this,e,r).bind(a)}let i=ne(n,r.eventOptions,!!t);for(let t in this.nativeHandlers)i(t,"",r=>this.nativeHandlers[t](ru(ru({},this.state.shared),{},{event:r,args:e})),void 0,!0)}for(let e in n)n[e]=function(...e){return 0===e.length?rM:1===e.length?e[0]:function(){let t;for(let r of e)t=r.apply(this,arguments)||t;return t}}(...n[e]);if(!t)return n;for(let e in n){let{device:r,capture:i,passive:a}=function(e){let t=e.substring(2).toLowerCase(),r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));let n=rh.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(n);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:r}}(e);this._targetEventStore.add(t,r,"",n[e],{capture:i,passive:a})}}}}function r9(e,t){e.gestures.add(t),e.gestureEventStores[t]=new r6(e,t),e.gestureTimeoutStores[t]=new r7}let ne=(e,t,r)=>(n,i,a,o={},s=!1)=>{var l,u;let c=null!==(l=o.capture)&&void 0!==l?l:t.capture,d=null!==(u=o.passive)&&void 0!==u?u:t.passive,f=s?n:function(e,t="",r=!1){let n=rc[e],i=n&&n[t]||t;return"on"+rd(e)+rd(i)+(!function(e=!1,t){return e&&!rf.includes(t)}(r,i)?"":"Capture")}(n,i,c);r&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(a)},nt=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function nr(e,t,r,n,i,a){if(!e.has(r)||!r$.has(n))return;let o=r+"Start",s=r+"End";i[n]=e=>{let n;return e.first&&o in t&&t[o](e),r in t&&(n=t[r](e)),e.last&&s in t&&t[s](e),n},a[n]=a[n]||{}}function nn({enabled:e=!0,snap:t,global:r,domElement:n,cursor:i=!0,children:a,speed:o=1,rotation:s=[0,0,0],zoom:l=1,polar:h=[0,Math.PI/2],azimuth:p=[-1/0,1/0],config:v={mass:1,tension:170,friction:26}}){var g,m;let y=(0,f.A)(e=>e.events),b=(0,f.A)(e=>e.gl),w=n||y.connected||b.domElement,{size:_}=(0,f.A)(),x=c.useMemo(()=>[s[0]+h[0],s[0]+h[1]],[s[0],h[0],h[1]]),M=c.useMemo(()=>[s[1]+p[0],s[1]+p[1]],[s[1],p[0],p[1]]),E=c.useMemo(()=>[d.MathUtils.clamp(s[0],...x),d.MathUtils.clamp(s[1],...M),s[2]],[s[0],s[1],s[2],x,M]),[S,k]=function(e,t){let r=D.fun(e),[[n],i]=function(e,t,r){let n=D.fun(t)&&t;n&&!r&&(r=[]);let i=(0,c.useMemo)(()=>n||3==arguments.length?t7():void 0,[]),a=(0,c.useRef)(0),o=eX(),s=(0,c.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let r=tJ(e,t);return!(a.current>0)||s.queue.length||Object.keys(r).some(t=>!e.springs[t])?new Promise(n=>{t1(e,r),s.queue.push(()=>{n(tZ(e,t))}),o()}):tZ(e,t)}}),[]),l=(0,c.useRef)([...s.ctrls]),u=[],d=eK(e)||0;function f(e,r){for(let i=e;i<r;i++){let e=l.current[i]||(l.current[i]=new tK(null,s.flush)),r=n?n(i,e):t[i];r&&(u[i]=function(e){let t=tW(e);return D.und(t.default)&&(t.default=td(t)),t}(r))}}(0,c.useMemo)(()=>{U(l.current.slice(e,d),e=>{var t;null==(t=e.ref)||t.delete(e),null==i||i.delete(e),e.stop(!0)}),l.current.length=e,f(d,e)},[e]),(0,c.useMemo)(()=>{f(0,Math.min(d,e))},r);let h=l.current.map((e,t)=>tJ(e,u[t])),p=(0,c.useContext)(t4),v=eK(p),g=p!==v&&function(e){for(let t in e)return!0;return!1}(p);eq(()=>{a.current++,s.ctrls=l.current;let{queue:e}=s;e.length&&(s.queue=[],U(e,e=>e())),U(l.current,(e,t)=>{null==i||i.add(e),g&&e.start({default:p});let r=u[t];r&&(function(e,t){if(t&&e.ref!==t){var r;null==(r=e.ref)||r.delete(e),t.add(e),e.ref=t}}(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),e$(()=>()=>{U(s.ctrls,e=>e.stop(!0))});let m=h.map(e=>ta({},e));return i?[m,i]:m}(1,r?e:[e],r?t||[]:t);return r||2==arguments.length?[n,i]:n}(()=>({scale:1,rotation:E,config:v}));c.useEffect(()=>void k.start({scale:1,rotation:E,config:v}),[E]),c.useEffect(()=>{if(r&&i&&e)return w.style.cursor="grab",b.domElement.style.cursor="",()=>{w.style.cursor="default",b.domElement.style.cursor="default"}},[r,i,w,e]);let T=(g={onHover:({last:t})=>{i&&!r&&e&&(w.style.cursor=t?"auto":"grab")},onDrag:({down:r,delta:[n,a],memo:[s,u]=S.rotation.animation.to||E})=>{if(!e)return[a,n];i&&(w.style.cursor=r?"grabbing":"grab"),n=d.MathUtils.clamp(u+n/_.width*Math.PI*o,...M),a=d.MathUtils.clamp(s+a/_.height*Math.PI*o,...x);let c=t&&!r&&"boolean"!=typeof t?t:v;return k.start({scale:r&&a>x[1]/2?l:1,rotation:t&&!r?E:[a,n,0],config:e=>"scale"===e?{...c,friction:3*c.friction}:c}),[a,n]}},m={target:r?w:void 0},([rZ,r1,r0,r2,rJ,rQ].forEach(rK),function(e,t){let{handlers:r,nativeHandlers:n,config:i}=function(e,t){let[r,n,i]=function(e){let t={},r={},n=new Set;for(let i in e)nt.test(i)?(n.add(RegExp.lastMatch),r[i]=e[i]):t[i]=e[i];return[r,t,n]}(e),a={};return nr(i,r,"onDrag","drag",a,t),nr(i,r,"onWheel","wheel",a,t),nr(i,r,"onScroll","scroll",a,t),nr(i,r,"onPinch","pinch",a,t),nr(i,r,"onMove","move",a,t),nr(i,r,"onHover","hover",a,t),{handlers:a,config:t,nativeHandlers:n}}(e,t||{});return function(e,t={},r,n){let i=c.useMemo(()=>new r8(e),[]);if(i.applyHandlers(e,n),i.applyConfig(t,r),c.useEffect(i.effect.bind(i)),c.useEffect(()=>i.clean.bind(i),[]),void 0===t.target)return i.bind.bind(i)}(r,i,void 0,n)})(g,m||{}));return c.createElement(rn.group,(0,u.Z)({},null==T?void 0:T(),S),a)}},1204:function(e,t,r){r.d(t,{i:function(){return t1}});/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var n,i,a,o,s,l,u,c,d,f,h,p,v,g=function(){return n||"undefined"!=typeof window&&(n=window.gsap)&&n.registerPlugin&&n},m=1,y=[],b=[],w=[],_=Date.now,x=function(e,t){return t},M=function(){var e=d.core,t=e.bridge||{},r=e._scrollers,n=e._proxies;r.push.apply(r,b),n.push.apply(n,w),b=r,w=n,x=function(e,r){return t[e](r)}},E=function(e,t){return~w.indexOf(e)&&w[w.indexOf(e)+1][t]},S=function(e){return!!~f.indexOf(e)},k=function(e,t,r,n,i){return e.addEventListener(t,r,{passive:!1!==n,capture:!!i})},T=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},A="scrollLeft",C="scrollTop",P=function(){return h&&h.isPressed||b.cache++},I=function(e,t){var r=function r(n){if(n||0===n){m&&(a.history.scrollRestoration="manual");var i=h&&h.isPressed;e(n=r.v=Math.round(n)||(h&&h.iOS?1:0)),r.cacheID=b.cache,i&&x("ss",n)}else(t||b.cache!==r.cacheID||x("ref"))&&(r.cacheID=b.cache,r.v=e());return r.v+r.offset};return r.offset=0,e&&r},R={s:A,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:I(function(e){return arguments.length?a.scrollTo(e,D.sc()):a.pageXOffset||o[A]||s[A]||l[A]||0})},D={s:C,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:R,sc:I(function(e){return arguments.length?a.scrollTo(R.sc(),e):a.pageYOffset||o[C]||s[C]||l[C]||0})},O=function(e,t){return(t&&t._ctx&&t._ctx.selector||n.utils.toArray)(e)[0]||("string"==typeof e&&!1!==n.config().nullTargetWarn?console.warn("Element not found:",e):null)},U=function(e,t){var r=t.s,i=t.sc;S(e)&&(e=o.scrollingElement||s);var a=b.indexOf(e),l=i===D.sc?1:2;~a||(a=b.push(e)-1),b[a+l]||k(e,"scroll",P);var u=b[a+l],c=u||(b[a+l]=I(E(e,r),!0)||(S(e)?i:I(function(t){return arguments.length?e[r]=t:e[r]})));return c.target=e,u||(c.smooth="smooth"===n.getProperty(e,"scrollBehavior")),c},F=function(e,t,r){var n=e,i=e,a=_(),o=a,s=t||50,l=Math.max(500,3*s),u=function(e,t){var l=_();t||l-a>s?(i=n,n=e,o=a,a=l):r?n+=e:n=i+(e-i)/(l-o)*(a-o)};return{update:u,reset:function(){i=n=r?0:n,o=a=0},getVelocity:function(e){var t=o,s=i,c=_();return(e||0===e)&&e!==n&&u(e),a===o||c-o>l?0:(n+(r?s:-s))/((r?c:a)-t)*1e3}}},L=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},B=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},j=function(){(d=n.core.globals().ScrollTrigger)&&d.core&&M()},N=function(e){return n=e||g(),!i&&n&&"undefined"!=typeof document&&document.body&&(a=window,s=(o=document).documentElement,l=o.body,f=[a,o,s,l],n.utils.clamp,v=n.core.context||function(){},c="onpointerenter"in l?"pointer":"mouse",u=z.isTouch=a.matchMedia&&a.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in a||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,p=z.eventTypes=("ontouchstart"in s?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in s?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return m=0},500),j(),i=1),i};R.op=D,b.cache=0;var z=function(){function e(e){this.init(e)}return e.prototype.init=function(e){i||N(n)||console.warn("Please gsap.registerPlugin(Observer)"),d||j();var t=e.tolerance,r=e.dragMinimum,f=e.type,g=e.target,m=e.lineHeight,b=e.debounce,w=e.preventDefault,x=e.onStop,M=e.onStopDelay,E=e.ignore,A=e.wheelSpeed,C=e.event,I=e.onDragStart,z=e.onDragEnd,V=e.onDrag,W=e.onPress,H=e.onRelease,q=e.onRight,G=e.onLeft,X=e.onUp,$=e.onDown,Y=e.onChangeX,K=e.onChangeY,Z=e.onChange,Q=e.onToggleX,J=e.onToggleY,ee=e.onHover,et=e.onHoverEnd,er=e.onMove,en=e.ignoreCheck,ei=e.isNormalizer,ea=e.onGestureStart,eo=e.onGestureEnd,es=e.onWheel,el=e.onEnable,eu=e.onDisable,ec=e.onClick,ed=e.scrollSpeed,ef=e.capture,eh=e.allowClicks,ep=e.lockAxis,ev=e.onLockAxis;this.target=g=O(g)||s,this.vars=e,E&&(E=n.utils.toArray(E)),t=t||1e-9,r=r||0,A=A||1,ed=ed||1,f=f||"wheel,touch,pointer",b=!1!==b,m||(m=parseFloat(a.getComputedStyle(l).lineHeight)||22);var eg,em,ey,eb,ew,e_,ex,eM=this,eE=0,eS=0,ek=e.passive||!w,eT=U(g,R),eA=U(g,D),eC=eT(),eP=eA(),eI=~f.indexOf("touch")&&!~f.indexOf("pointer")&&"pointerdown"===p[0],eR=S(g),eD=g.ownerDocument||o,eO=[0,0,0],eU=[0,0,0],eF=0,eL=function(){return eF=_()},eB=function(e,t){return(eM.event=e)&&E&&~E.indexOf(e.target)||t&&eI&&"touch"!==e.pointerType||en&&en(e,t)},ej=function(){var e=eM.deltaX=B(eO),r=eM.deltaY=B(eU),n=Math.abs(e)>=t,i=Math.abs(r)>=t;Z&&(n||i)&&Z(eM,e,r,eO,eU),n&&(q&&eM.deltaX>0&&q(eM),G&&eM.deltaX<0&&G(eM),Y&&Y(eM),Q&&eM.deltaX<0!=eE<0&&Q(eM),eE=eM.deltaX,eO[0]=eO[1]=eO[2]=0),i&&($&&eM.deltaY>0&&$(eM),X&&eM.deltaY<0&&X(eM),K&&K(eM),J&&eM.deltaY<0!=eS<0&&J(eM),eS=eM.deltaY,eU[0]=eU[1]=eU[2]=0),(eb||ey)&&(er&&er(eM),ey&&(V(eM),ey=!1),eb=!1),e_&&(e_=!1,1)&&ev&&ev(eM),ew&&(es(eM),ew=!1),eg=0},eN=function(e,t,r){eO[r]+=e,eU[r]+=t,eM._vx.update(e),eM._vy.update(t),b?eg||(eg=requestAnimationFrame(ej)):ej()},ez=function(e,t){ep&&!ex&&(eM.axis=ex=Math.abs(e)>Math.abs(t)?"x":"y",e_=!0),"y"!==ex&&(eO[2]+=e,eM._vx.update(e,!0)),"x"!==ex&&(eU[2]+=t,eM._vy.update(t,!0)),b?eg||(eg=requestAnimationFrame(ej)):ej()},eV=function(e){if(!eB(e,1)){var t=(e=L(e,w)).clientX,n=e.clientY,i=t-eM.x,a=n-eM.y,o=eM.isDragging;eM.x=t,eM.y=n,(o||Math.abs(eM.startX-t)>=r||Math.abs(eM.startY-n)>=r)&&(V&&(ey=!0),o||(eM.isDragging=!0),ez(i,a),o||I&&I(eM))}},eW=eM.onPress=function(e){eB(e,1)||e&&e.button||(eM.axis=ex=null,em.pause(),eM.isPressed=!0,e=L(e),eE=eS=0,eM.startX=eM.x=e.clientX,eM.startY=eM.y=e.clientY,eM._vx.reset(),eM._vy.reset(),k(ei?g:eD,p[1],eV,ek,!0),eM.deltaX=eM.deltaY=0,W&&W(eM))},eH=eM.onRelease=function(e){if(!eB(e,1)){T(ei?g:eD,p[1],eV,!0);var t=!isNaN(eM.y-eM.startY),r=eM.isDragging,i=r&&(Math.abs(eM.x-eM.startX)>3||Math.abs(eM.y-eM.startY)>3),o=L(e);!i&&t&&(eM._vx.reset(),eM._vy.reset(),w&&eh&&n.delayedCall(.08,function(){if(_()-eF>300&&!e.defaultPrevented){if(e.target.click)e.target.click();else if(eD.createEvent){var t=eD.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,a,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}})),eM.isDragging=eM.isGesturing=eM.isPressed=!1,x&&r&&!ei&&em.restart(!0),z&&r&&z(eM),H&&H(eM,i)}},eq=function(e){return e.touches&&e.touches.length>1&&(eM.isGesturing=!0)&&ea(e,eM.isDragging)},eG=function(){return eM.isGesturing=!1,eo(eM)},eX=function(e){if(!eB(e)){var t=eT(),r=eA();eN((t-eC)*ed,(r-eP)*ed,1),eC=t,eP=r,x&&em.restart(!0)}},e$=function(e){if(!eB(e)){e=L(e,w),es&&(ew=!0);var t=(1===e.deltaMode?m:2===e.deltaMode?a.innerHeight:1)*A;eN(e.deltaX*t,e.deltaY*t,0),x&&!ei&&em.restart(!0)}},eY=function(e){if(!eB(e)){var t=e.clientX,r=e.clientY,n=t-eM.x,i=r-eM.y;eM.x=t,eM.y=r,eb=!0,x&&em.restart(!0),(n||i)&&ez(n,i)}},eK=function(e){eM.event=e,ee(eM)},eZ=function(e){eM.event=e,et(eM)},eQ=function(e){return eB(e)||L(e,w)&&ec(eM)};em=eM._dc=n.delayedCall(M||.25,function(){eM._vx.reset(),eM._vy.reset(),em.pause(),x&&x(eM)}).pause(),eM.deltaX=eM.deltaY=0,eM._vx=F(0,50,!0),eM._vy=F(0,50,!0),eM.scrollX=eT,eM.scrollY=eA,eM.isDragging=eM.isGesturing=eM.isPressed=!1,v(this),eM.enable=function(e){return!eM.isEnabled&&(k(eR?eD:g,"scroll",P),f.indexOf("scroll")>=0&&k(eR?eD:g,"scroll",eX,ek,ef),f.indexOf("wheel")>=0&&k(g,"wheel",e$,ek,ef),(f.indexOf("touch")>=0&&u||f.indexOf("pointer")>=0)&&(k(g,p[0],eW,ek,ef),k(eD,p[2],eH),k(eD,p[3],eH),eh&&k(g,"click",eL,!0,!0),ec&&k(g,"click",eQ),ea&&k(eD,"gesturestart",eq),eo&&k(eD,"gestureend",eG),ee&&k(g,c+"enter",eK),et&&k(g,c+"leave",eZ),er&&k(g,c+"move",eY)),eM.isEnabled=!0,e&&e.type&&eW(e),el&&el(eM)),eM},eM.disable=function(){eM.isEnabled&&(y.filter(function(e){return e!==eM&&S(e.target)}).length||T(eR?eD:g,"scroll",P),eM.isPressed&&(eM._vx.reset(),eM._vy.reset(),T(ei?g:eD,p[1],eV,!0)),T(eR?eD:g,"scroll",eX,ef),T(g,"wheel",e$,ef),T(g,p[0],eW,ef),T(eD,p[2],eH),T(eD,p[3],eH),T(g,"click",eL,!0),T(g,"click",eQ),T(eD,"gesturestart",eq),T(eD,"gestureend",eG),T(g,c+"enter",eK),T(g,c+"leave",eZ),T(g,c+"move",eY),eM.isEnabled=eM.isPressed=eM.isDragging=!1,eu&&eu(eM))},eM.kill=eM.revert=function(){eM.disable();var e=y.indexOf(eM);e>=0&&y.splice(e,1),h===eM&&(h=0)},y.push(eM),ei&&S(g)&&(h=eM),eM.enable(C)},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();z.version="3.12.5",z.create=function(e){return new z(e)},z.register=N,z.getAll=function(){return y.slice()},z.getById=function(e){return y.filter(function(t){return t.vars.id===e})[0]},g()&&n.registerPlugin(z);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var V,W,H,q,G,X,$,Y,K,Z,Q,J,ee,et,er,en,ei,ea,eo,es,el,eu,ec,ed,ef,eh,ep,ev,eg,em,ey,eb,ew,e_,ex,eM,eE,eS,ek=1,eT=Date.now,eA=eT(),eC=0,eP=0,eI=function(e,t,r){var n=eq(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=n,n?e.substr(6,e.length-7):e},eR=function(e,t){return t&&(!eq(e)||"clamp("!==e.substr(0,6))?"clamp("+e+")":e},eD=function(){return et=1},eO=function(){return et=0},eU=function(e){return e},eF=function(e){return Math.round(1e5*e)/1e5||0},eL=function(){return"undefined"!=typeof window},eB=function(){return V||eL()&&(V=window.gsap)&&V.registerPlugin&&V},ej=function(e){return!!~$.indexOf(e)},eN=function(e){return("Height"===e?ey:H["inner"+e])||G["client"+e]||X["client"+e]},ez=function(e){return E(e,"getBoundingClientRect")||(ej(e)?function(){return tX.width=H.innerWidth,tX.height=ey,tX}:function(){return tn(e)})},eV=function(e,t,r){var n=r.d,i=r.d2,a=r.a;return(a=E(e,"getBoundingClientRect"))?function(){return a()[n]}:function(){return(t?eN(i):e["client"+i])||0}},eW=function(e,t){var r=t.s,n=t.d2,i=t.d,a=t.a;return Math.max(0,(a=E(e,r="scroll"+n))?a()-ez(e)()[i]:ej(e)?(G[r]||X[r])-eN(n):e[r]-e["offset"+n])},eH=function(e,t){for(var r=0;r<eo.length;r+=3)(!t||~t.indexOf(eo[r+1]))&&e(eo[r],eo[r+1],eo[r+2])},eq=function(e){return"string"==typeof e},eG=function(e){return"function"==typeof e},eX=function(e){return"number"==typeof e},e$=function(e){return"object"==typeof e},eY=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},eK=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},eZ=Math.abs,eQ="left",eJ="right",e1="bottom",e0="width",e2="height",e3="Right",e5="Left",e4="Bottom",e6="padding",e7="margin",e8="Width",e9="Height",te=function(e){return H.getComputedStyle(e)},tt=function(e){var t=te(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"},tr=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},tn=function(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==te(e)[er]&&V.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return r&&r.progress(0).kill(),n},ti=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},ta=function(e){var t,r=[],n=e.labels,i=e.duration();for(t in n)r.push(n[t]/i);return r},to=function(e){var t=V.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return r?function(e,n,i){var a;if(void 0===i&&(i=.001),!n)return t(e);if(n>0){for(e-=i,a=0;a<r.length;a++)if(r[a]>=e)return r[a];return r[a-1]}for(a=r.length,e+=i;a--;)if(r[a]<=e)return r[a];return r[0]}:function(r,n,i){void 0===i&&(i=.001);var a=t(r);return!n||Math.abs(a-r)<i||a-r<0==n<0?a:t(n<0?r-e:r+e)}},ts=function(e,t,r,n){return r.split(",").forEach(function(r){return e(t,r,n)})},tl=function(e,t,r,n,i){return e.addEventListener(t,r,{passive:!n,capture:!!i})},tu=function(e,t,r,n){return e.removeEventListener(t,r,!!n)},tc=function(e,t,r){(r=r&&r.wheelHandler)&&(e(t,"wheel",r),e(t,"touchmove",r))},td={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},tf={toggleActions:"play",anticipatePin:0},th={top:0,left:0,center:.5,bottom:1,right:1},tp=function(e,t){if(eq(e)){var r=e.indexOf("="),n=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in th?th[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},tv=function(e,t,r,n,i,a,o,s){var l=i.startColor,u=i.endColor,c=i.fontSize,d=i.indent,f=i.fontWeight,h=q.createElement("div"),p=ej(r)||"fixed"===E(r,"pinType"),v=-1!==e.indexOf("scroller"),g=p?X:r,m=-1!==e.indexOf("start"),y=m?l:u,b="border-color:"+y+";font-size:"+c+";color:"+y+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((v||s)&&p?"fixed;":"absolute;"),(v||s||!p)&&(b+=(n===D?eJ:e1)+":"+(a+parseFloat(d))+"px;"),o&&(b+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),h._isStart=m,h.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),h.style.cssText=b,h.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(h,g.children[0]):g.appendChild(h),h._offset=h["offset"+n.op.d2],tg(h,0,n,m),h},tg=function(e,t,r,n){var i={display:"block"},a=r[n?"os2":"p2"],o=r[n?"p2":"os2"];e._isFlipped=n,i[r.a+"Percent"]=n?-100:0,i[r.a]=n?"1px":0,i["border"+a+e8]=1,i["border"+o+e8]=0,i[r.p]=t+"px",V.set(e,i)},tm=[],ty={},tb=function(){return eT()-eC>34&&(ex||(ex=requestAnimationFrame(tB)))},tw=function(){ec&&ec.isPressed&&!(ec.startX>X.clientWidth)||(b.cache++,ec?ex||(ex=requestAnimationFrame(tB)):tB(),eC||tk("scrollStart"),eC=eT())},t_=function(){eh=H.innerWidth,ef=H.innerHeight},tx=function(){b.cache++,!(!ee&&!eu&&!q.fullscreenElement&&!q.webkitFullscreenElement&&(!ed||eh!==H.innerWidth||Math.abs(H.innerHeight-ef)>.25*H.innerHeight))||Y.restart(!0)},tM={},tE=[],tS=function e(){return tu(t1,"scrollEnd",e)||tU(!0)},tk=function(e){return tM[e]&&tM[e].map(function(e){return e()})||tE},tT=[],tA=function(e){for(var t=0;t<tT.length;t+=5)(!e||tT[t+4]&&tT[t+4].query===e)&&(tT[t].style.cssText=tT[t+1],tT[t].getBBox&&tT[t].setAttribute("transform",tT[t+2]||""),tT[t+3].uncache=1)},tC=function(e,t){var r;for(en=0;en<tm.length;en++)(r=tm[en])&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));eb=!0,t&&tA(t),t||tk("revert")},tP=function(e,t){b.cache++,(t||!eM)&&b.forEach(function(e){return eG(e)&&e.cacheID++&&(e.rec=0)}),eq(e)&&(H.history.scrollRestoration=eg=e)},tI=0,tR=function(){if(eE!==tI){var e=eE=tI;requestAnimationFrame(function(){return e===tI&&tU(!0)})}},tD=function(){X.appendChild(em),ey=!ec&&em.offsetHeight||H.innerHeight,X.removeChild(em)},tO=function(e){return K(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},tU=function(e,t){if(eC&&!e&&!eb){tl(t1,"scrollEnd",tS);return}tD(),eM=t1.isRefreshing=!0,b.forEach(function(e){return eG(e)&&++e.cacheID&&(e.rec=e())});var r=tk("refreshInit");es&&t1.sort(),t||tC(),b.forEach(function(e){eG(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),tm.slice(0).forEach(function(e){return e.refresh()}),eb=!1,tm.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",r=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-r),e.refresh()}}),ew=1,tO(!0),tm.forEach(function(e){var t=eW(e.scroller,e._dir),r="max"===e.vars.end||e._endClamp&&e.end>t,n=e._startClamp&&e.start>=t;(r||n)&&e.setPositions(n?t-1:e.start,r?Math.max(n?t:e.start+1,t):e.end,!0)}),tO(!1),ew=0,r.forEach(function(e){return e&&e.render&&e.render(-1)}),b.forEach(function(e){eG(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),tP(eg,1),Y.pause(),tI++,eM=2,tB(2),tm.forEach(function(e){return eG(e.vars.onRefresh)&&e.vars.onRefresh(e)}),eM=t1.isRefreshing=!1,tk("refresh")},tF=0,tL=1,tB=function(e){if(2===e||!eM&&!eb){t1.isUpdating=!0,eS&&eS.update(0);var t=tm.length,r=eT(),n=r-eA>=50,i=t&&tm[0].scroll();if(tL=tF>i?-1:1,eM||(tF=i),n&&(eC&&!et&&r-eC>200&&(eC=0,tk("scrollEnd")),Q=eA,eA=r),tL<0){for(en=t;en-- >0;)tm[en]&&tm[en].update(0,n);tL=1}else for(en=0;en<t;en++)tm[en]&&tm[en].update(0,n);t1.isUpdating=!1}ex=0},tj=[eQ,"top",e1,eJ,e7+e4,e7+e3,e7+"Top",e7+e5,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],tN=tj.concat([e0,e2,"boxSizing","max"+e8,"max"+e9,"position",e7,e6,e6+"Top",e6+e3,e6+e4,e6+e5]),tz=function(e,t,r){tH(r);var n=e._gsap;if(n.spacerIsNative)tH(n.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1},tV=function(e,t,r,n){if(!e._gsap.swappedIn){for(var i,a=tj.length,o=t.style,s=e.style;a--;)o[i=tj[a]]=r[i];o.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(o.display="inline-block"),s[e1]=s[eJ]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[e0]=ti(e,R)+"px",o[e2]=ti(e,D)+"px",o[e6]=s[e7]=s.top=s[eQ]="0",tH(n),s[e0]=s["max"+e8]=r[e0],s[e2]=s["max"+e9]=r[e2],s[e6]=r[e6],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},tW=/([A-Z])/g,tH=function(e){if(e){var t,r,n=e.t.style,i=e.length,a=0;for((e.t._gsap||V.core.getCache(e.t)).uncache=1;a<i;a+=2)r=e[a+1],t=e[a],r?n[t]=r:n[t]&&n.removeProperty(t.replace(tW,"-$1").toLowerCase())}},tq=function(e){for(var t=tN.length,r=e.style,n=[],i=0;i<t;i++)n.push(tN[i],r[tN[i]]);return n.t=e,n},tG=function(e,t,r){for(var n,i=[],a=e.length,o=r?8:0;o<a;o+=2)n=e[o],i.push(n,n in t?t[n]:e[o+1]);return i.t=e.t,i},tX={left:0,top:0},t$=function(e,t,r,n,i,a,o,s,l,u,c,d,f,h){eG(e)&&(e=e(s)),eq(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?tp("0"+e.substr(3),r):0));var p,v,g,m=f?f.time():0;if(f&&f.seek(0),isNaN(e)||(e=+e),eX(e))f&&(e=V.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,d,e)),o&&tg(o,r,n,!0);else{eG(t)&&(t=t(s));var y,b,w,_,x=(e||"0").split(" ");(y=tn(g=O(t,s)||X)||{}).left||y.top||"none"!==te(g).display||(_=g.style.display,g.style.display="block",y=tn(g),_?g.style.display=_:g.style.removeProperty("display")),b=tp(x[0],y[n.d]),w=tp(x[1]||"0",r),e=y[n.p]-l[n.p]-u+b+i-w,o&&tg(o,w,n,r-w<20||o._isStart&&w>20),r-=r-w}if(h&&(s[h]=e||-.001,e<0&&(e=0)),a){var M=e+r,E=a._isStart;p="scroll"+n.d2,tg(a,M,n,E&&M>20||!E&&(c?Math.max(X[p],G[p]):a.parentNode[p])<=M+1),c&&(l=tn(o),c&&(a.style[n.op.p]=l[n.op.p]-n.op.m-a._offset+"px"))}return f&&g&&(p=tn(g),f.seek(d),v=tn(g),f._caScrollDist=p[n.p]-v[n.p],e=e/f._caScrollDist*d),f&&f.seek(m),f?e:Math.round(e)},tY=/(webkit|moz|length|cssText|inset)/i,tK=function(e,t,r,n){if(e.parentNode!==t){var i,a,o=e.style;if(t===X){for(i in e._stOrig=o.cssText,a=te(e))+i||tY.test(i)||!a[i]||"string"!=typeof o[i]||"0"===i||(o[i]=a[i]);o.top=r,o.left=n}else o.cssText=e._stOrig;V.core.getCache(e).uncache=1,t.appendChild(e)}},tZ=function(e,t,r){var n=t,i=n;return function(t){var a=Math.round(e());return a!==n&&a!==i&&Math.abs(a-n)>3&&Math.abs(a-i)>3&&(t=a,r&&r()),i=n,n=t,t}},tQ=function(e,t,r){var n={};n[t.p]="+="+r,V.set(e,n)},tJ=function(e,t){var r=U(e,t),n="_scroll"+t.p2,i=function t(i,a,o,s,l){var u=t.tween,c=a.onComplete,d={};o=o||r();var f=tZ(r,o,function(){u.kill(),t.tween=0});return l=s&&l||0,s=s||i-o,u&&u.kill(),a[n]=i,a.inherit=!1,a.modifiers=d,d[n]=function(){return f(o+s*u.ratio+l*u.ratio*u.ratio)},a.onUpdate=function(){b.cache++,t.tween&&tB()},a.onComplete=function(){t.tween=0,c&&c.call(u)},u=t.tween=V.to(e,a)};return e[n]=r,r.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},tl(e,"wheel",r.wheelHandler),t1.isTouch&&tl(e,"touchmove",r.wheelHandler),i},t1=function(){function e(t,r){W||e.register(V)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ev(this),this.init(t,r)}return e.prototype.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!eP){this.update=this.refresh=this.kill=eU;return}var n,i,a,o,s,l,u,c,d,f,h,p,v,g,m,y,_,x,M,S,k,T,A,C,P,I,F,L,B,j,N,z,W,$,Y,J,er,ei,ea,eo,eu,ec=t=tr(eq(t)||eX(t)||t.nodeType?{trigger:t}:t,tf),ed=ec.onUpdate,ef=ec.toggleClass,eh=ec.id,ep=ec.onToggle,ev=ec.onRefresh,eg=ec.scrub,em=ec.trigger,ey=ec.pin,eb=ec.pinSpacing,ex=ec.invalidateOnRefresh,eE=ec.anticipatePin,eA=ec.onScrubComplete,eD=ec.onSnapComplete,eO=ec.once,eL=ec.snap,eB=ec.pinReparent,eN=ec.pinSpacer,eH=ec.containerAnimation,eQ=ec.fastScrollEnd,eJ=ec.preventOverlaps,e1=t.horizontal||t.containerAnimation&&!1!==t.horizontal?R:D,ts=!eg&&0!==eg,tc=O(t.scroller||H),th=V.core.getCache(tc),tg=ej(tc),tb=("pinType"in t?t.pinType:E(tc,"pinType")||tg&&"fixed")==="fixed",t_=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],tM=ts&&t.toggleActions.split(" "),tE="markers"in t?t.markers:tf.markers,tk=tg?0:parseFloat(te(tc)["border"+e1.p2+e8])||0,tT=this,tA=t.onRefreshInit&&function(){return t.onRefreshInit(tT)},tC=eV(tc,tg,e1),tP=!tg||~w.indexOf(tc)?ez(tc):function(){return tX},tI=0,tD=0,tO=0,tU=U(tc,e1);if(tT._startClamp=tT._endClamp=!1,tT._dir=e1,eE*=45,tT.scroller=tc,tT.scroll=eH?eH.time.bind(eH):tU,l=tU(),tT.vars=t,r=r||t.animation,"refreshPriority"in t&&(es=1,-9999===t.refreshPriority&&(eS=tT)),th.tweenScroll=th.tweenScroll||{top:tJ(tc,D),left:tJ(tc,R)},tT.tweenTo=a=th.tweenScroll[e1.p],tT.scrubDuration=function(e){(Y=eX(e)&&e)?$?$.duration(e):$=V.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Y,paused:!0,onComplete:function(){return eA&&eA(tT)}}):($&&$.progress(1).kill(),$=0)},r&&(r.vars.lazy=!1,r._initted&&!tT.isReverted||!1!==r.vars.immediateRender&&!1!==t.immediateRender&&r.duration()&&r.render(0,!0,!0),tT.animation=r.pause(),r.scrollTrigger=tT,tT.scrubDuration(eg),z=0,eh||(eh=r.vars.id)),eL&&((!e$(eL)||eL.push)&&(eL={snapTo:eL}),"scrollBehavior"in X.style&&V.set(tg?[X,G]:tc,{scrollBehavior:"auto"}),b.forEach(function(e){return eG(e)&&e.target===(tg?q.scrollingElement||G:tc)&&(e.smooth=!1)}),s=eG(eL.snapTo)?eL.snapTo:"labels"===eL.snapTo?(n=r,function(e){return V.utils.snap(ta(n),e)}):"labelsDirectional"===eL.snapTo?(i=r,function(e,t){return to(ta(i))(e,t.direction)}):!1!==eL.directional?function(e,t){return to(eL.snapTo)(e,eT()-tD<500?0:t.direction)}:V.utils.snap(eL.snapTo),J=e$(J=eL.duration||{min:.1,max:2})?Z(J.min,J.max):Z(J,J),er=V.delayedCall(eL.delay||Y/2||.1,function(){var e=tU(),t=eT()-tD<500,n=a.tween;if((t||10>Math.abs(tT.getVelocity()))&&!n&&!et&&tI!==e){var i,o,l=(e-c)/y,u=r&&!ts?r.totalProgress():l,f=t?0:(u-W)/(eT()-Q)*1e3||0,h=V.utils.clamp(-l,1-l,eZ(f/2)*f/.185),p=l+(!1===eL.inertia?0:h),v=eL,g=v.onStart,m=v.onInterrupt,b=v.onComplete;if(eX(i=s(p,tT))||(i=p),o=Math.round(c+i*y),e<=d&&e>=c&&o!==e){if(n&&!n._initted&&n.data<=eZ(o-e))return;!1===eL.inertia&&(h=i-l),a(o,{duration:J(eZ(.185*Math.max(eZ(p-u),eZ(i-u))/f/.05||0)),ease:eL.ease||"power3",data:eZ(o-e),onInterrupt:function(){return er.restart(!0)&&m&&m(tT)},onComplete:function(){tT.update(),tI=tU(),r&&($?$.resetTo("totalProgress",i,r._tTime/r._tDur):r.progress(i)),z=W=r&&!ts?r.totalProgress():tT.progress,eD&&eD(tT),b&&b(tT)}},e,h*y,o-e-h*y),g&&g(tT,a.tween)}}else tT.isActive&&tI!==e&&er.restart(!0)}).pause()),eh&&(ty[eh]=tT),(eu=(em=tT.trigger=O(em||!0!==ey&&ey))&&em._gsap&&em._gsap.stRevert)&&(eu=eu(tT)),ey=!0===ey?em:O(ey),eq(ef)&&(ef={targets:em,className:ef}),ey&&(!1===eb||eb===e7||(eb=(!!eb||!ey.parentNode||!ey.parentNode.style||"flex"!==te(ey.parentNode).display)&&e6),tT.pin=ey,(o=V.core.getCache(ey)).spacer?_=o.pinState:(eN&&((eN=O(eN))&&!eN.nodeType&&(eN=eN.current||eN.nativeElement),o.spacerIsNative=!!eN,eN&&(o.spacerState=tq(eN))),o.spacer=S=eN||q.createElement("div"),S.classList.add("pin-spacer"),eh&&S.classList.add("pin-spacer-"+eh),o.pinState=_=tq(ey)),!1!==t.force3D&&V.set(ey,{force3D:!0}),tT.spacer=S=o.spacer,I=(N=te(ey))[eb+e1.os2],T=V.getProperty(ey),A=V.quickSetter(ey,e1.a,"px"),tV(ey,S,N),M=tq(ey)),tE){g=e$(tE)?tr(tE,td):td,p=tv("scroller-start",eh,tc,e1,g,0),v=tv("scroller-end",eh,tc,e1,g,0,p),k=p["offset"+e1.op.d2];var tF=O(E(tc,"content")||tc);f=this.markerStart=tv("start",eh,tF,e1,g,k,0,eH),h=this.markerEnd=tv("end",eh,tF,e1,g,k,0,eH),eH&&(eo=V.quickSetter([f,h],e1.a,"px")),tb||w.length&&!0===E(tc,"fixedMarkers")||(tt(tg?X:tc),V.set([p,v],{force3D:!0}),L=V.quickSetter(p,e1.a,"px"),j=V.quickSetter(v,e1.a,"px"))}if(eH){var tB=eH.vars.onUpdate,tj=eH.vars.onUpdateParams;eH.eventCallback("onUpdate",function(){tT.update(0,0,1),tB&&tB.apply(eH,tj||[])})}if(tT.previous=function(){return tm[tm.indexOf(tT)-1]},tT.next=function(){return tm[tm.indexOf(tT)+1]},tT.revert=function(e,t){if(!t)return tT.kill(!0);var n=!1!==e||!tT.enabled,i=ee;n!==tT.isReverted&&(n&&(ei=Math.max(tU(),tT.scroll.rec||0),tO=tT.progress,ea=r&&r.progress()),f&&[f,h,p,v].forEach(function(e){return e.style.display=n?"none":"block"}),n&&(ee=tT,tT.update(n)),!ey||eB&&tT.isActive||(n?tz(ey,S,_):tV(ey,S,te(ey),F)),n||tT.update(n),ee=i,tT.isReverted=n)},tT.refresh=function(n,i,o,s){if(!ee&&tT.enabled||i){if(ey&&n&&eC){tl(e,"scrollEnd",tS);return}!eM&&tA&&tA(tT),ee=tT,a.tween&&!o&&(a.tween.kill(),a.tween=0),$&&$.pause(),ex&&r&&r.revert({kill:!1}).invalidate(),tT.isReverted||tT.revert(!0,!0),tT._subPinOffset=!1;var g,b,w,E,k,A,I,L,j,N,z,W,H,Y=tC(),K=tP(),Z=eH?eH.duration():eW(tc,e1),Q=y<=.01,J=0,et=s||0,en=e$(o)?o.end:t.end,eo=t.endTrigger||em,es=e$(o)?o.start:t.start||(0!==t.start&&em?ey?"0 0":"0 100%":0),eu=tT.pinnedContainer=t.pinnedContainer&&O(t.pinnedContainer,tT),ec=em&&Math.max(0,tm.indexOf(tT))||0,ed=ec;for(tE&&e$(o)&&(W=V.getProperty(p,e1.p),H=V.getProperty(v,e1.p));ed--;)(A=tm[ed]).end||A.refresh(0,1)||(ee=tT),(I=A.pin)&&(I===em||I===ey||I===eu)&&!A.isReverted&&(N||(N=[]),N.unshift(A),A.revert(!0,!0)),A!==tm[ed]&&(ec--,ed--);for(eG(es)&&(es=es(tT)),c=t$(es=eI(es,"start",tT),em,Y,e1,tU(),f,p,tT,K,tk,tb,Z,eH,tT._startClamp&&"_startClamp")||(ey?-.001:0),eG(en)&&(en=en(tT)),eq(en)&&!en.indexOf("+=")&&(~en.indexOf(" ")?en=(eq(es)?es.split(" ")[0]:"")+en:(J=tp(en.substr(2),Y),en=eq(es)?es:(eH?V.utils.mapRange(0,eH.duration(),eH.scrollTrigger.start,eH.scrollTrigger.end,c):c)+J,eo=em)),en=eI(en,"end",tT),d=Math.max(c,t$(en||(eo?"100% 0":Z),eo,Y,e1,tU()+J,h,v,tT,K,tk,tb,Z,eH,tT._endClamp&&"_endClamp"))||-.001,J=0,ed=ec;ed--;)(I=(A=tm[ed]).pin)&&A.start-A._pinPush<=c&&!eH&&A.end>0&&(g=A.end-(tT._startClamp?Math.max(0,A.start):A.start),(I===em&&A.start-A._pinPush<c||I===eu)&&isNaN(es)&&(J+=g*(1-A.progress)),I===ey&&(et+=g));if(c+=J,d+=J,tT._startClamp&&(tT._startClamp+=J),tT._endClamp&&!eM&&(tT._endClamp=d||-.001,d=Math.min(d,eW(tc,e1))),y=d-c||(c-=.01)&&.001,Q&&(tO=V.utils.clamp(0,1,V.utils.normalize(c,d,ei))),tT._pinPush=et,f&&J&&((g={})[e1.a]="+="+J,eu&&(g[e1.p]="-="+tU()),V.set([f,h],g)),ey&&!(ew&&tT.end>=eW(tc,e1)))g=te(ey),E=e1===D,w=tU(),C=parseFloat(T(e1.a))+et,!Z&&d>1&&(z={style:z=(tg?q.scrollingElement||G:tc).style,value:z["overflow"+e1.a.toUpperCase()]},tg&&"scroll"!==te(X)["overflow"+e1.a.toUpperCase()]&&(z.style["overflow"+e1.a.toUpperCase()]="scroll")),tV(ey,S,g),M=tq(ey),b=tn(ey,!0),L=tb&&U(tc,E?R:D)(),eb?((F=[eb+e1.os2,y+et+"px"]).t=S,(ed=eb===e6?ti(ey,e1)+y+et:0)&&(F.push(e1.d,ed+"px"),"auto"!==S.style.flexBasis&&(S.style.flexBasis=ed+"px")),tH(F),eu&&tm.forEach(function(e){e.pin===eu&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),tb&&tU(ei)):(ed=ti(ey,e1))&&"auto"!==S.style.flexBasis&&(S.style.flexBasis=ed+"px"),tb&&((k={top:b.top+(E?w-c:L)+"px",left:b.left+(E?L:w-c)+"px",boxSizing:"border-box",position:"fixed"})[e0]=k["max"+e8]=Math.ceil(b.width)+"px",k[e2]=k["max"+e9]=Math.ceil(b.height)+"px",k[e7]=k[e7+"Top"]=k[e7+e3]=k[e7+e4]=k[e7+e5]="0",k[e6]=g[e6],k[e6+"Top"]=g[e6+"Top"],k[e6+e3]=g[e6+e3],k[e6+e4]=g[e6+e4],k[e6+e5]=g[e6+e5],x=tG(_,k,eB),eM&&tU(0)),r?(j=r._initted,el(1),r.render(r.duration(),!0,!0),P=T(e1.a)-C+y+et,B=Math.abs(y-P)>1,tb&&B&&x.splice(x.length-2,2),r.render(0,!0,!0),j||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),el(0)):P=y,z&&(z.value?z.style["overflow"+e1.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+e1.a));else if(em&&tU()&&!eH)for(b=em.parentNode;b&&b!==X;)b._pinOffset&&(c-=b._pinOffset,d-=b._pinOffset),b=b.parentNode;N&&N.forEach(function(e){return e.revert(!1,!0)}),tT.start=c,tT.end=d,l=u=eM?ei:tU(),eH||eM||(l<ei&&tU(ei),tT.scroll.rec=0),tT.revert(!1,!0),tD=eT(),er&&(tI=-1,er.restart(!0)),ee=0,r&&ts&&(r._initted||ea)&&r.progress()!==ea&&r.progress(ea||0,!0).render(r.time(),!0,!0),(Q||tO!==tT.progress||eH||ex)&&(r&&!ts&&r.totalProgress(eH&&c<-.001&&!tO?V.utils.normalize(c,d,0):tO,!0),tT.progress=Q||(l-c)/y===tO?0:tO),ey&&eb&&(S._pinOffset=Math.round(tT.progress*P)),$&&$.invalidate(),isNaN(W)||(W-=V.getProperty(p,e1.p),H-=V.getProperty(v,e1.p),tQ(p,e1,W),tQ(f,e1,W-(s||0)),tQ(v,e1,H),tQ(h,e1,H-(s||0))),Q&&!eM&&tT.update(),!ev||eM||m||(m=!0,ev(tT),m=!1)}},tT.getVelocity=function(){return(tU()-u)/(eT()-Q)*1e3||0},tT.endAnimation=function(){eY(tT.callbackAnimation),r&&($?$.progress(1):r.paused()?ts||eY(r,tT.direction<0,1):eY(r,r.reversed()))},tT.labelToScroll=function(e){return r&&r.labels&&(c||tT.refresh()||c)+r.labels[e]/r.duration()*y||0},tT.getTrailing=function(e){var t=tm.indexOf(tT),r=tT.direction>0?tm.slice(0,t).reverse():tm.slice(t+1);return(eq(e)?r.filter(function(t){return t.vars.preventOverlaps===e}):r).filter(function(e){return tT.direction>0?e.end<=c:e.start>=d})},tT.update=function(e,t,n){if(!eH||n||e){var i,o,s,f,h,v,g,m=!0===eM?ei:tT.scroll(),b=e?0:(m-c)/y,w=b<0?0:b>1?1:b||0,_=tT.progress;if(t&&(u=l,l=eH?tU():m,eL&&(W=z,z=r&&!ts?r.totalProgress():w)),eE&&ey&&!ee&&!ek&&eC&&(!w&&c<m+(m-u)/(eT()-Q)*eE?w=1e-4:1===w&&d>m+(m-u)/(eT()-Q)*eE&&(w=.9999)),w!==_&&tT.enabled){if(f=(h=(i=tT.isActive=!!w&&w<1)!=(!!_&&_<1))||!!w!=!!_,tT.direction=w>_?1:-1,tT.progress=w,f&&!ee&&(o=w&&!_?0:1===w?1:1===_?2:3,ts&&(s=!h&&"none"!==tM[o+1]&&tM[o+1]||tM[o],g=r&&("complete"===s||"reset"===s||s in r))),eJ&&(h||g)&&(g||eg||!r)&&(eG(eJ)?eJ(tT):tT.getTrailing(eJ).forEach(function(e){return e.endAnimation()})),!ts&&(!$||ee||ek?r&&r.totalProgress(w,!!(ee&&(tD||e))):($._dp._time-$._start!==$._time&&$.render($._dp._time-$._start),$.resetTo?$.resetTo("totalProgress",w,r._tTime/r._tDur):($.vars.totalProgress=w,$.invalidate().restart()))),ey){if(e&&eb&&(S.style[eb+e1.os2]=I),tb){if(f){if(v=!e&&w>_&&d+1>m&&m+1>=eW(tc,e1),eB){if(!e&&(i||v)){var E=tn(ey,!0),k=m-c;tK(ey,X,E.top+(e1===D?k:0)+"px",E.left+(e1===D?0:k)+"px")}else tK(ey,S)}tH(i||v?x:M),B&&w<1&&i||A(C+(1!==w||v?0:P))}}else A(eF(C+P*w))}!eL||a.tween||ee||ek||er.restart(!0),ef&&(h||eO&&w&&(w<1||!e_))&&K(ef.targets).forEach(function(e){return e.classList[i||eO?"add":"remove"](ef.className)}),!ed||ts||e||ed(tT),f&&!ee?(ts&&(g&&("complete"===s?r.pause().totalProgress(1):"reset"===s?r.restart(!0).pause():"restart"===s?r.restart(!0):r[s]()),ed&&ed(tT)),(h||!e_)&&(ep&&h&&eK(tT,ep),t_[o]&&eK(tT,t_[o]),eO&&(1===w?tT.kill(!1,1):t_[o]=0),!h&&t_[o=1===w?1:3]&&eK(tT,t_[o])),eQ&&!i&&Math.abs(tT.getVelocity())>(eX(eQ)?eQ:2500)&&(eY(tT.callbackAnimation),$?$.progress(1):eY(r,"reverse"===s?1:!w,1))):ts&&ed&&!ee&&ed(tT)}if(j){var T=eH?m/eH.duration()*(eH._caScrollDist||0):m;L(T+(p._isFlipped?1:0)),j(T)}eo&&eo(-m/eH.duration()*(eH._caScrollDist||0))}},tT.enable=function(t,r){tT.enabled||(tT.enabled=!0,tl(tc,"resize",tx),tg||tl(tc,"scroll",tw),tA&&tl(e,"refreshInit",tA),!1!==t&&(tT.progress=tO=0,l=u=tI=tU()),!1!==r&&tT.refresh())},tT.getTween=function(e){return e&&a?a.tween:$},tT.setPositions=function(e,t,r,n){if(eH){var i=eH.scrollTrigger,a=eH.duration(),o=i.end-i.start;e=i.start+o*e/a,t=i.start+o*t/a}tT.refresh(!1,!1,{start:eR(e,r&&!!tT._startClamp),end:eR(t,r&&!!tT._endClamp)},n),tT.update()},tT.adjustPinSpacing=function(e){if(F&&e){var t=F.indexOf(e1.d)+1;F[t]=parseFloat(F[t])+e+"px",F[1]=parseFloat(F[1])+e+"px",tH(F)}},tT.disable=function(t,r){if(tT.enabled&&(!1!==t&&tT.revert(!0,!0),tT.enabled=tT.isActive=!1,r||$&&$.pause(),ei=0,o&&(o.uncache=1),tA&&tu(e,"refreshInit",tA),er&&(er.pause(),a.tween&&a.tween.kill()&&(a.tween=0)),!tg)){for(var n=tm.length;n--;)if(tm[n].scroller===tc&&tm[n]!==tT)return;tu(tc,"resize",tx),tg||tu(tc,"scroll",tw)}},tT.kill=function(e,n){tT.disable(e,n),$&&!n&&$.kill(),eh&&delete ty[eh];var i=tm.indexOf(tT);i>=0&&tm.splice(i,1),i===en&&tL>0&&en--,i=0,tm.forEach(function(e){return e.scroller===tT.scroller&&(i=1)}),i||eM||(tT.scroll.rec=0),r&&(r.scrollTrigger=null,e&&r.revert({kill:!1}),n||r.kill()),f&&[f,h,p,v].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),eS===tT&&(eS=0),ey&&(o&&(o.uncache=1),i=0,tm.forEach(function(e){return e.pin===ey&&i++}),i||(o.spacer=0)),t.onKill&&t.onKill(tT)},tm.push(tT),tT.enable(!1,!1),eu&&eu(tT),r&&r.add&&!y){var tN=tT.update;tT.update=function(){tT.update=tN,c||d||tT.refresh()},V.delayedCall(.01,tT.update),y=.01,c=d=0}else tT.refresh();ey&&tR()},e.register=function(t){return W||(V=t||eB(),eL()&&window.document&&e.enable(),W=eP),W},e.defaults=function(e){if(e)for(var t in e)tf[t]=e[t];return tf},e.disable=function(e,t){eP=0,tm.forEach(function(r){return r[t?"kill":"disable"](e)}),tu(H,"wheel",tw),tu(q,"scroll",tw),clearInterval(J),tu(q,"touchcancel",eU),tu(X,"touchstart",eU),ts(tu,q,"pointerdown,touchstart,mousedown",eD),ts(tu,q,"pointerup,touchend,mouseup",eO),Y.kill(),eH(tu);for(var r=0;r<b.length;r+=3)tc(tu,b[r],b[r+1]),tc(tu,b[r],b[r+2])},e.enable=function(){if(H=window,G=(q=document).documentElement,X=q.body,V&&(K=V.utils.toArray,Z=V.utils.clamp,ev=V.core.context||eU,el=V.core.suppressOverwrites||eU,eg=H.history.scrollRestoration||"auto",tF=H.pageYOffset,V.core.globals("ScrollTrigger",e),X)){eP=1,(em=document.createElement("div")).style.height="100vh",em.style.position="absolute",tD(),function e(){return eP&&requestAnimationFrame(e)}(),z.register(V),e.isTouch=z.isTouch,ep=z.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ed=1===z.isTouch,tl(H,"wheel",tw),$=[H,q,G,X],V.matchMedia?(e.matchMedia=function(e){var t,r=V.matchMedia();for(t in e)r.add(t,e[t]);return r},V.addEventListener("matchMediaInit",function(){return tC()}),V.addEventListener("matchMediaRevert",function(){return tA()}),V.addEventListener("matchMedia",function(){tU(0,1),tk("matchMedia")}),V.matchMedia("(orientation: portrait)",function(){return t_(),t_})):console.warn("Requires GSAP 3.11.0 or later"),t_(),tl(q,"scroll",tw);var t,r,n=X.style,i=n.borderTopStyle,a=V.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",t=tn(X),D.m=Math.round(t.top+D.sc())||0,R.m=Math.round(t.left+R.sc())||0,i?n.borderTopStyle=i:n.removeProperty("border-top-style"),J=setInterval(tb,250),V.delayedCall(.5,function(){return ek=0}),tl(q,"touchcancel",eU),tl(X,"touchstart",eU),ts(tl,q,"pointerdown,touchstart,mousedown",eD),ts(tl,q,"pointerup,touchend,mouseup",eO),er=V.utils.checkPrefix("transform"),tN.push(er),W=eT(),Y=V.delayedCall(.2,tU).pause(),eo=[q,"visibilitychange",function(){var e=H.innerWidth,t=H.innerHeight;q.hidden?(ei=e,ea=t):(ei!==e||ea!==t)&&tx()},q,"DOMContentLoaded",tU,H,"load",tU,H,"resize",tx],eH(tl),tm.forEach(function(e){return e.enable(0,1)}),r=0;r<b.length;r+=3)tc(tu,b[r],b[r+1]),tc(tu,b[r],b[r+2])}},e.config=function(t){"limitCallbacks"in t&&(e_=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(J)||(J=r)&&setInterval(tb,r),"ignoreMobileResize"in t&&(ed=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(eH(tu)||eH(tl,t.autoRefreshEvents||"none"),eu=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var r=O(e),n=b.indexOf(r),i=ej(r);~n&&b.splice(n,i?6:2),t&&(i?w.unshift(H,t,X,t,G,t):w.unshift(r,t))},e.clearMatchMedia=function(e){tm.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,r){var n=(eq(e)?O(e):e).getBoundingClientRect(),i=n[r?e0:e2]*t||0;return r?n.right-i>0&&n.left+i<H.innerWidth:n.bottom-i>0&&n.top+i<H.innerHeight},e.positionInViewport=function(e,t,r){eq(e)&&(e=O(e));var n=e.getBoundingClientRect(),i=n[r?e0:e2],a=null==t?i/2:t in th?th[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return r?(n.left+a)/H.innerWidth:(n.top+a)/H.innerHeight},e.killAll=function(e){if(tm.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=tM.killAll||[];tM={},t.forEach(function(e){return e()})}},e}();t1.version="3.12.5",t1.saveStyles=function(e){return e?K(e).forEach(function(e){if(e&&e.style){var t=tT.indexOf(e);t>=0&&tT.splice(t,5),tT.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),V.core.getCache(e),ev())}}):tT},t1.revert=function(e,t){return tC(!e,t)},t1.create=function(e,t){return new t1(e,t)},t1.refresh=function(e){return e?tx():(W||t1.register())&&tU(!0)},t1.update=function(e){return++b.cache&&tB(!0===e?2:0)},t1.clearScrollMemory=tP,t1.maxScroll=function(e,t){return eW(e,t?R:D)},t1.getScrollFunc=function(e,t){return U(O(e),t?R:D)},t1.getById=function(e){return ty[e]},t1.getAll=function(){return tm.filter(function(e){return"ScrollSmoother"!==e.vars.id})},t1.isScrolling=function(){return!!eC},t1.snapDirectional=to,t1.addEventListener=function(e,t){var r=tM[e]||(tM[e]=[]);~r.indexOf(t)||r.push(t)},t1.removeEventListener=function(e,t){var r=tM[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)},t1.batch=function(e,t){var r,n=[],i={},a=t.interval||.016,o=t.batchMax||1e9,s=function(e,t){var r=[],n=[],i=V.delayedCall(a,function(){t(r,n),r=[],n=[]}).pause();return function(e){r.length||i.restart(!0),r.push(e.trigger),n.push(e),o<=r.length&&i.progress(1)}};for(r in t)i[r]="on"===r.substr(0,2)&&eG(t[r])&&"onRefreshInit"!==r?s(r,t[r]):t[r];return eG(o)&&(o=o(),tl(t1,"refresh",function(){return o=t.batchMax()})),K(e).forEach(function(e){var t={};for(r in i)t[r]=i[r];t.trigger=e,n.push(t1.create(t))}),n};var t0,t2=function(e,t,r,n){return t>n?e(n):t<0&&e(0),r>n?(n-t)/(r-t):r<0?t/(t-r):1},t3=function e(t,r){!0===r?t.style.removeProperty("touch-action"):t.style.touchAction=!0===r?"auto":r?"pan-"+r+(z.isTouch?" pinch-zoom":""):"none",t===G&&e(X,r)},t5={auto:1,scroll:1},t4=function(e){var t,r=e.event,n=e.target,i=e.axis,a=(r.changedTouches?r.changedTouches[0]:r).target,o=a._gsap||V.core.getCache(a),s=eT();if(!o._isScrollT||s-o._isScrollT>2e3){for(;a&&a!==X&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(t5[(t=te(a)).overflowY]||t5[t.overflowX]));)a=a.parentNode;o._isScroll=a&&a!==n&&!ej(a)&&(t5[(t=te(a)).overflowY]||t5[t.overflowX]),o._isScrollT=s}(o._isScroll||"x"===i)&&(r.stopPropagation(),r._gsapAllow=!0)},t6=function(e,t,r,n){return z.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:n=n&&t4,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return r&&tl(q,z.eventTypes[0],t8,!1,!0)},onDisable:function(){return tu(q,z.eventTypes[0],t8,!0)}})},t7=/(input|label|select|textarea)/i,t8=function(e){var t=t7.test(e.target.tagName);(t||t0)&&(e._gsapAllow=!0,t0=t)},t9=function(e){e$(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,r,n,i,a,o,s,l,u=e,c=u.normalizeScrollX,d=u.momentum,f=u.allowNestedScroll,h=u.onRelease,p=O(e.target)||G,v=V.core.globals().ScrollSmoother,g=v&&v.get(),m=ep&&(e.content&&O(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=U(p,D),w=U(p,R),_=1,x=(z.isTouch&&H.visualViewport?H.visualViewport.scale*H.visualViewport.width:H.outerWidth)/H.innerWidth,M=0,E=eG(d)?function(){return d(t)}:function(){return d||2.8},S=t6(p,e.type,!0,f),k=function(){return i=!1},T=eU,A=eU,C=function(){r=eW(p,D),A=Z(ep?1:0,r),c&&(T=Z(0,eW(p,R))),n=tI},P=function(){m._gsap.y=eF(parseFloat(m._gsap.y)+y.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},I=function(){if(i){requestAnimationFrame(k);var e=eF(t.deltaY/2),r=A(y.v-e);if(m&&r!==y.v+y.offset){y.offset=r-y.v;var n=eF((parseFloat(m&&m._gsap.y)||0)-y.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+n+", 0, 1)",m._gsap.y=n+"px",y.cacheID=b.cache,tB()}return!0}y.offset&&P(),i=!0},F=function(){C(),a.isActive()&&a.vars.scrollY>r&&(y()>r?a.progress(1)&&y(r):a.resetTo("scrollY",r))};return m&&V.set(m,{y:"+=0"}),e.ignoreCheck=function(e){return ep&&"touchmove"===e.type&&I(e)||_>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=_;_=eF((H.visualViewport&&H.visualViewport.scale||1)/x),a.pause(),e!==_&&t3(p,_>1.01||!c&&"x"),o=w(),s=y(),C(),n=tI},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&P(),t){b.cache++;var n,i,o=E();c&&(i=(n=w())+-(.05*o*e.velocityX)/.227,o*=t2(w,n,i,eW(p,R)),a.vars.scrollX=T(i)),i=(n=y())+-(.05*o*e.velocityY)/.227,o*=t2(y,n,i,eW(p,D)),a.vars.scrollY=A(i),a.invalidate().duration(o).play(.01),(ep&&a.vars.scrollY>=r||n>=r-1)&&V.to({},{onUpdate:F,duration:o})}else l.restart(!0);h&&h(e)},e.onWheel=function(){a._ts&&a.pause(),eT()-M>1e3&&(n=0,M=eT())},e.onChange=function(e,t,r,i,a){if(tI!==n&&C(),t&&c&&w(T(i[2]===t?o+(e.startX-e.x):w()+t-i[1])),r){y.offset&&P();var l=a[2]===r,u=l?s+e.startY-e.y:y()+r-a[1],d=A(u);l&&u!==d&&(s+=d-u),y(d)}(r||t)&&tB()},e.onEnable=function(){t3(p,!c&&"x"),t1.addEventListener("refresh",F),tl(H,"resize",F),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=w.smooth=!1),S.enable()},e.onDisable=function(){t3(p,!0),tu(H,"resize",F),t1.removeEventListener("refresh",F),S.kill()},e.lockAxis=!1!==e.lockAxis,(t=new z(e)).iOS=ep,ep&&!y()&&y(1),ep&&V.ticker.add(eU),l=t._dc,a=V.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:c?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:tZ(y,y(),function(){return a.pause()})},onUpdate:tB,onComplete:l.vars.onComplete}),t};t1.sort=function(e){return tm.sort(e||function(e,t){return -1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},t1.observe=function(e){return new z(e)},t1.normalizeScroll=function(e){if(void 0===e)return ec;if(!0===e&&ec)return ec.enable();if(!1===e){ec&&ec.kill(),ec=e;return}var t=e instanceof z?e:t9(e);return ec&&ec.target===t.target&&ec.kill(),ej(t.target)&&(ec=t),t},t1.core={_getVelocityProp:F,_inputObserver:t6,_scrollers:b,_proxies:w,bridge:{ss:function(){eC||tk("scrollStart"),eC=eT()},ref:function(){return ee}}},eB()&&V.registerPlugin(t1)},7502:function(e,t,r){r.d(t,{B$:function(){return function e(t,r){let i=function(e){let t=JSON.stringify(e,h),r=v.get(t);return null==r&&v.set(t,r=++p),r}(r),g=u.get(t);if(g||u.set(t,g=Object.create(null)),g[i])return new g[i];let m=`_onBeforeCompile${i}`,y=function(e,n){t.onBeforeCompile.call(this,e,n);let o=this.customProgramCacheKey()+"|"+e.vertexShader+"|"+e.fragmentShader,u=c[o];if(!u){let t=function(e,{vertexShader:t,fragmentShader:r},n,i){let{vertexDefs:o,vertexMainIntro:s,vertexMainOutro:l,vertexTransform:u,fragmentDefs:c,fragmentMainIntro:d,fragmentMainOutro:h,fragmentColorTransform:p,customRewriter:v,timeUniform:g}=n;if(o=o||"",s=s||"",l=l||"",c=c||"",d=d||"",h=h||"",(u||v)&&(t=a(t)),(p||v)&&(r=a(r=r.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),v){let e=v({vertexShader:t,fragmentShader:r});t=e.vertexShader,r=e.fragmentShader}if(p){let e=[];r=r.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),h=`${p}
${e.join("\n")}
${h}`}if(g){let e=`
uniform float ${g};
`;o=e+o,c=e+c}return u&&(t=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${t}
`,o=`${o}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,r,n)=>/\battribute\s+vec[23]\s+$/.test(n.substr(0,r))?t:`troika_${t}_${i}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),{vertexShader:t=f(t,i,o,s,l),fragmentShader:r=f(r,i,c,d,h)}}(this,e,r,i);u=c[o]=t}e.vertexShader=u.vertexShader,e.fragmentShader=u.fragmentShader,s(e.uniforms,this.uniforms),r.timeUniform&&(e.uniforms[r.timeUniform]={get value(){return Date.now()-l}}),this[m]&&this[m](e)},b=function(){return w(r.chained?t:t.clone())},w=function(e){let n=Object.create(e,_);return Object.defineProperty(n,"baseMaterial",{value:t}),Object.defineProperty(n,"id",{value:d++}),n.uuid=function(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(o[255&e]+o[e>>8&255]+o[e>>16&255]+o[e>>24&255]+"-"+o[255&t]+o[t>>8&255]+"-"+o[t>>16&15|64]+o[t>>24&255]+"-"+o[63&r|128]+o[r>>8&255]+"-"+o[r>>16&255]+o[r>>24&255]+o[255&n]+o[n>>8&255]+o[n>>16&255]+o[n>>24&255]).toUpperCase()}(),n.uniforms=s({},e.uniforms,r.uniforms),n.defines=s({},e.defines,r.defines),n.defines[`TROIKA_DERIVED_MATERIAL_${i}`]="",n.extensions=s({},e.extensions,r.extensions),n._listeners=void 0,n},_={constructor:{value:b},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+i}},onBeforeCompile:{get:()=>y,set(e){this[m]=e}},copy:{writable:!0,configurable:!0,value:function(e){return t.copy.call(this,e),t.isShaderMaterial||t.isDerivedMaterial||(s(this.extensions,e.extensions),s(this.defines,e.defines),s(this.uniforms,n.UniformsUtils.clone(e.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){return w(new t.constructor).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let i=this._depthMaterial;return i||((i=this._depthMaterial=e(t.isDerivedMaterial?t.getDepthMaterial():new n.MeshDepthMaterial({depthPacking:n.RGBADepthPacking}),r)).defines.IS_DEPTH_MATERIAL="",i.uniforms=this.uniforms),i}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let i=this._distanceMaterial;return i||((i=this._distanceMaterial=e(t.isDerivedMaterial?t.getDistanceMaterial():new n.MeshDistanceMaterial,r)).defines.IS_DISTANCE_MATERIAL="",i.uniforms=this.uniforms),i}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:e,_distanceMaterial:r}=this;e&&e.dispose(),r&&r.dispose(),t.dispose.call(this)}}};return g[i]=b,new b}},MW:function(){return i}});var n=r(7776);let i=/\bvoid\s+main\s*\(\s*\)\s*{/g;function a(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){let r=n.ShaderChunk[t];return r?a(r):e})}let o=[];for(let e=0;e<256;e++)o[e]=(e<16?"0":"")+e.toString(16);let s=Object.assign||function(){let e=arguments[0];for(let t=1,r=arguments.length;t<r;t++){let r=arguments[t];if(r)for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},l=Date.now(),u=new WeakMap,c=new Map,d=1e10;function f(e,t,r,n,a){return(n||a||r)&&(e=e.replace(i,`
${r}
void troikaOrigMain${t}() {`)+`
void main() {
  ${n}
  troikaOrigMain${t}();
  ${a}
}`),e}function h(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let p=0,v=new Map;n.DoubleSide},1640:function(e,t,r){function n(){var e=Object.create(null);function t(e,t){var r=void 0;self.troikaDefine=function(e){return r=e};var n=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(n)}catch(e){console.error(e)}return URL.revokeObjectURL(n),delete self.troikaDefine,r}self.addEventListener("message",function(r){var n=r.data,i=n.messageId,a=n.action,o=n.data;try{"registerModule"===a&&function r(n,i){var a=n.id,o=n.name,s=n.dependencies;void 0===s&&(s=[]);var l=n.init;void 0===l&&(l=function(){});var u=n.getTransferables;if(void 0===u&&(u=null),!e[a])try{s=s.map(function(t){return t&&t.isWorkerModule&&(r(t,function(e){if(e instanceof Error)throw e}),t=e[t.id].value),t}),l=t("<"+o+">.init",l),u&&(u=t("<"+o+">.getTransferables",u));var c=null;"function"==typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:u},i(c)}catch(e){e&&e.noLog||console.error(e),i(e)}}(o,function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===a&&function(t,r){var n,i=t.id,a=t.args;e[i]&&"function"==typeof e[i].value||r(Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(n=e[i]).value.apply(n,a);o&&"function"==typeof o.then?o.then(s,function(e){return r(e instanceof Error?e:Error(""+e))}):s(o)}catch(e){r(e)}function s(t){try{var n=e[i].getTransferables&&e[i].getTransferables(t);n&&Array.isArray(n)&&n.length||(n=void 0),r(t,n)}catch(e){console.error(e),r(e)}}}(o,function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}})}r.d(t,{Ae:function(){return d},Ch:function(){return function e(t){if((!t||"function"!=typeof t.init)&&!s)throw Error("requires `options.init` function");var r,n=t.dependencies,o=t.init,l=t.getTransferables,c=t.workerId;if(!i())return(r=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return r._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,e);throw Error("Worker module function was called but `init` did not return a callable function")})})._getInitResult=function(){var e=t.dependencies,n=t.init,i=Promise.all(e=Array.isArray(e)?e.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[]).then(function(e){return n.apply(null,e)});return r._getInitResult=function(){return i},i},r;null==c&&(c="#default");var d="workerModule"+ ++a,p=t.name||d,v=null;function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!v){v=h(c,"registerModule",g.workerModuleData);var r=function(){v=null,u[c].delete(r)};(u[c]||(u[c]=new Set)).add(r)}return v.then(function(t){if(t.isCallable)return h(c,"callModule",{id:d,args:e});throw Error("Worker module function was called but `init` did not return a callable function")})}return n=n&&n.map(function(t){return"function"!=typeof t||t.workerModuleData||(s=!0,t=e({workerId:c,name:"<"+p+"> function dependency: "+t.name,init:"function(){return (\n"+f(t)+"\n)}"}),s=!1),t&&t.workerModuleData&&(t=t.workerModuleData),t}),g.workerModuleData={isWorkerModule:!0,id:d,name:p,dependencies:n,init:f(o),getTransferables:l&&f(l)},g}}}),r(357);var i=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return i=function(){return e},e},a=0,o=0,s=!1,l=Object.create(null),u=Object.create(null),c=Object.create(null);function d(e){u[e]&&u[e].forEach(function(e){e()}),l[e]&&(l[e].terminate(),delete l[e])}function f(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function h(e,t,r){return new Promise(function(i,a){var s=++o;c[s]=function(e){e.success?i(e.result):a(Error("Error in worker "+t+" call: "+e.error))},(function(e){var t=l[e];if(!t){var r=f(n);(t=l[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+r+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,r=t.messageId,n=c[r];if(!n)throw Error("WorkerModule response with empty or unknown messageId");delete c[r],n(t)}}return t})(e).postMessage({messageId:s,action:t,data:r})})}},5097:function(e,t){t.Z=function(){return function(e){var t,r,n,i,a={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},s={};o.L=1,s[1]="L",Object.keys(a).forEach(function(e,t){o[e]=1<<t+1,s[o[e]]=e}),Object.freeze(o);var l=o.LRI|o.RLI|o.FSI,u=o.L|o.R|o.AL,c=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,d=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,f=o.S|o.WS|o.B|l|o.PDI|d,h=null;function p(e){return!function(){if(!h){h=new Map;var e=function(e){if(a.hasOwnProperty(e)){var t=0;a[e].split(",").forEach(function(r){var n=r.split("+"),i=n[0],a=n[1];i=parseInt(i,36),a=a?parseInt(a,36):0,h.set(t+=i,o[e]);for(var s=0;s<a;s++)h.set(++t,o[e])})}};for(var t in a)e(t)}}(),h.get(e.codePointAt(0))||o.L}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function g(e,t){var r,n=0,i=new Map,a=t&&new Map;return e.split(",").forEach(function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(r);else{r=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(n+=parseInt(u,36)),c=String.fromCodePoint(n+=parseInt(c,36)),i.set(u,c),t&&a.set(c,u)}}),{map:i,reverseMap:a}}function m(){if(!t){var e=g(v.pairs,!0),i=e.map,a=e.reverseMap;t=i,r=a,n=g(v.canonical,!1).map}}function y(e){return m(),t.get(e)||null}function b(e){return m(),r.get(e)||null}function w(e){return m(),n.get(e)||null}var _=o.L,x=o.R,M=o.EN,E=o.ES,S=o.ET,k=o.AN,T=o.CS,A=o.B,C=o.S,P=o.ON,I=o.BN,R=o.NSM,D=o.AL,O=o.LRO,U=o.RLO,F=o.LRE,L=o.RLE,B=o.PDF,j=o.LRI,N=o.RLI,z=o.FSI,V=o.PDI;function W(e){return!function(){if(!i){var e=g("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach(function(e,r){t.set(r,e)}),i=t}}(),i.get(e)||null}function H(e,t,r,n){var i=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(i-1,null==n?i-1:+n);var a=[];return t.paragraphs.forEach(function(i){var o=Math.max(r,i.start),s=Math.min(n,i.end);if(o<s){for(var l=t.levels.slice(o,s+1),u=s;u>=o&&p(e[u])&f;u--)l[u]=i.level;for(var c=i.level,d=1/0,h=0;h<l.length;h++){var v=l[h];v>c&&(c=v),v<d&&(d=1|v)}for(var g=c;g>=d;g--)for(var m=0;m<l.length;m++)if(l[m]>=g){for(var y=m;m+1<l.length&&l[m+1]>=g;)m++;m>y&&a.push([y+o,m+o])}}}),a}function q(e,t,r,n){for(var i=H(e,t,r,n),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach(function(e){for(var t=e[0],r=e[1],n=a.slice(t,r+1),i=n.length;i--;)a[r-i]=n[i]}),a}return e.closingToOpeningBracket=b,e.getBidiCharType=p,e.getBidiCharTypeName=function(e){return s[p(e)]},e.getCanonicalBracket=w,e.getEmbeddingLevels=function(e,t){for(var r=new Uint32Array(e.length),n=0;n<e.length;n++)r[n]=p(e[n]);var i=new Map;function a(e,t){var n=r[e];r[e]=t,i.set(n,i.get(n)-1),n&c&&i.set(c,i.get(c)-1),i.set(t,(i.get(t)||0)+1),t&c&&i.set(c,(i.get(c)||0)+1)}for(var o=new Uint8Array(e.length),s=new Map,h=[],v=null,g=0;g<e.length;g++)v||h.push(v={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:tP(g,!1)}),r[g]&A&&(v.end=g,v=null);for(var m=L|F|U|O|l|V|B|A,W=function(e){return e+(1&e?1:2)},H=function(e){return e+(1&e?2:1)},q=0;q<h.length;q++){var G=[{_level:(v=h[q]).level,_override:0,_isolate:0}],X=void 0,$=0,Y=0,K=0;i.clear();for(var Z=v.start;Z<=v.end;Z++){var Q=r[Z];if(X=G[G.length-1],i.set(Q,(i.get(Q)||0)+1),Q&c&&i.set(c,(i.get(c)||0)+1),Q&m){if(Q&(L|F)){o[Z]=X._level;var J=(Q===L?H:W)(X._level);!(J<=125)||$||Y?!$&&Y++:G.push({_level:J,_override:0,_isolate:0})}else if(Q&(U|O)){o[Z]=X._level;var ee=(Q===U?H:W)(X._level);!(ee<=125)||$||Y?!$&&Y++:G.push({_level:ee,_override:Q&U?x:_,_isolate:0})}else if(Q&l){Q&z&&(Q=1===tP(Z+1,!0)?N:j),o[Z]=X._level,X._override&&a(Z,X._override);var et=(Q===N?H:W)(X._level);et<=125&&0===$&&0===Y?(K++,G.push({_level:et,_override:0,_isolate:1,_isolInitIndex:Z})):$++}else if(Q&V){if($>0)$--;else if(K>0){for(Y=0;!G[G.length-1]._isolate;)G.pop();var er=G[G.length-1]._isolInitIndex;null!=er&&(s.set(er,Z),s.set(Z,er)),G.pop(),K--}X=G[G.length-1],o[Z]=X._level,X._override&&a(Z,X._override)}else Q&B?(0===$&&(Y>0?Y--:!X._isolate&&G.length>1&&(G.pop(),X=G[G.length-1])),o[Z]=X._level):Q&A&&(o[Z]=v.level)}else o[Z]=X._level,X._override&&Q!==I&&a(Z,X._override)}for(var en=[],ei=null,ea=v.start;ea<=v.end;ea++){var eo=r[ea];if(!(eo&d)){var es=o[ea],el=eo&l,eu=eo===V;ei&&es===ei._level?(ei._end=ea,ei._endsWithIsolInit=el):en.push(ei={_start:ea,_end:ea,_level:es,_startsWithPDI:eu,_endsWithIsolInit:el})}}for(var ec=[],ed=0;ed<en.length;ed++){var ef=en[ed];if(!ef._startsWithPDI||ef._startsWithPDI&&!s.has(ef._start)){for(var eh=[ei=ef],ep=void 0;ei&&ei._endsWithIsolInit&&null!=(ep=s.get(ei._end));)for(var ev=ed+1;ev<en.length;ev++)if(en[ev]._start===ep){eh.push(ei=en[ev]);break}for(var eg=[],em=0;em<eh.length;em++)for(var ey=eh[em],eb=ey._start;eb<=ey._end;eb++)eg.push(eb);for(var ew=o[eg[0]],e_=v.level,ex=eg[0]-1;ex>=0;ex--)if(!(r[ex]&d)){e_=o[ex];break}var eM=eg[eg.length-1],eE=o[eM],eS=v.level;if(!(r[eM]&l)){for(var ek=eM+1;ek<=v.end;ek++)if(!(r[ek]&d)){eS=o[ek];break}}ec.push({_seqIndices:eg,_sosType:Math.max(e_,ew)%2?x:_,_eosType:Math.max(eS,eE)%2?x:_})}}for(var eT=0;eT<ec.length;eT++){var eA=ec[eT],eC=eA._seqIndices,eP=eA._sosType,eI=eA._eosType,eR=1&o[eC[0]]?x:_;if(i.get(R))for(var eD=0;eD<eC.length;eD++){var eO=eC[eD];if(r[eO]&R){for(var eU=eP,eF=eD-1;eF>=0;eF--)if(!(r[eC[eF]]&d)){eU=r[eC[eF]];break}a(eO,eU&(l|V)?P:eU)}}if(i.get(M))for(var eL=0;eL<eC.length;eL++){var eB=eC[eL];if(r[eB]&M)for(var ej=eL-1;ej>=-1;ej--){var eN=-1===ej?eP:r[eC[ej]];if(eN&u){eN===D&&a(eB,k);break}}}if(i.get(D))for(var ez=0;ez<eC.length;ez++){var eV=eC[ez];r[eV]&D&&a(eV,x)}if(i.get(E)||i.get(T))for(var eW=1;eW<eC.length-1;eW++){var eH=eC[eW];if(r[eH]&(E|T)){for(var eq=0,eG=0,eX=eW-1;eX>=0&&(eq=r[eC[eX]])&d;eX--);for(var e$=eW+1;e$<eC.length&&(eG=r[eC[e$]])&d;e$++);eq===eG&&(r[eH]===E?eq===M:eq&(M|k))&&a(eH,eq)}}if(i.get(M)){for(var eY=0;eY<eC.length;eY++)if(r[eC[eY]]&M){for(var eK=eY-1;eK>=0&&r[eC[eK]]&(S|d);eK--)a(eC[eK],M);for(eY++;eY<eC.length&&r[eC[eY]]&(S|d|M);eY++)r[eC[eY]]!==M&&a(eC[eY],M)}}if(i.get(S)||i.get(E)||i.get(T))for(var eZ=0;eZ<eC.length;eZ++){var eQ=eC[eZ];if(r[eQ]&(S|E|T)){a(eQ,P);for(var eJ=eZ-1;eJ>=0&&r[eC[eJ]]&d;eJ--)a(eC[eJ],P);for(var e1=eZ+1;e1<eC.length&&r[eC[e1]]&d;e1++)a(eC[e1],P)}}if(i.get(M))for(var e0=0,e2=eP;e0<eC.length;e0++){var e3=eC[e0],e5=r[e3];e5&M?e2===_&&a(e3,_):e5&u&&(e2=e5)}if(i.get(c)){for(var e4=x|M|k,e6=e4|_,e7=[],e8=[],e9=0;e9<eC.length;e9++)if(r[eC[e9]]&c){var te=e[eC[e9]],tt=void 0;if(null!==y(te)){if(e8.length<63)e8.push({char:te,seqIndex:e9});else break}else if(null!==(tt=b(te)))for(var tr=e8.length-1;tr>=0;tr--){var tn=e8[tr].char;if(tn===tt||tn===b(w(te))||y(w(tn))===te){e7.push([e8[tr].seqIndex,e9]),e8.length=tr;break}}}e7.sort(function(e,t){return e[0]-t[0]});for(var ti=0;ti<e7.length;ti++){for(var ta=e7[ti],to=ta[0],ts=ta[1],tl=!1,tu=0,tc=to+1;tc<ts;tc++){var td=eC[tc];if(r[td]&e6){tl=!0;var tf=r[td]&e4?x:_;if(tf===eR){tu=tf;break}}}if(tl&&!tu){tu=eP;for(var th=to-1;th>=0;th--){var tp=eC[th];if(r[tp]&e6){var tv=r[tp]&e4?x:_;tu=tv!==eR?tv:eR;break}}}if(tu){if(r[eC[to]]=r[eC[ts]]=tu,tu!==eR){for(var tg=to+1;tg<eC.length;tg++)if(!(r[eC[tg]]&d)){p(e[eC[tg]])&R&&(r[eC[tg]]=tu);break}}if(tu!==eR){for(var tm=ts+1;tm<eC.length;tm++)if(!(r[eC[tm]]&d)){p(e[eC[tm]])&R&&(r[eC[tm]]=tu);break}}}}for(var ty=0;ty<eC.length;ty++)if(r[eC[ty]]&c){for(var tb=ty,tw=ty,t_=eP,tx=ty-1;tx>=0;tx--)if(r[eC[tx]]&d)tb=tx;else{t_=r[eC[tx]]&e4?x:_;break}for(var tM=eI,tE=ty+1;tE<eC.length;tE++)if(r[eC[tE]]&(c|d))tw=tE;else{tM=r[eC[tE]]&e4?x:_;break}for(var tS=tb;tS<=tw;tS++)r[eC[tS]]=t_===tM?t_:eR;ty=tw}}}for(var tk=v.start;tk<=v.end;tk++){var tT=o[tk],tA=r[tk];if(1&tT?tA&(_|M|k)&&o[tk]++:tA&x?o[tk]++:tA&(k|M)&&(o[tk]+=2),tA&d&&(o[tk]=0===tk?v.level:o[tk-1]),tk===v.end||p(e[tk])&(C|A))for(var tC=tk;tC>=0&&p(e[tC])&f;tC--)o[tC]=v.level}}return{levels:o,paragraphs:h};function tP(t,n){for(var i=t;i<e.length;i++){var a=r[i];if(a&(x|D))return 1;if(a&(A|_)||n&&a===V)break;if(a&l){var o=function(t){for(var n=1,i=t+1;i<e.length;i++){var a=r[i];if(a&A)break;if(a&V){if(0==--n)return i}else a&l&&n++}return -1}(i);i=-1===o?e.length:o}}return 0}},e.getMirroredCharacter=W,e.getMirroredCharactersMap=function(e,t,r,n){var i=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(i-1,null==n?i-1:+n);for(var a=new Map,o=r;o<=n;o++)if(1&t[o]){var s=W(e[o]);null!==s&&a.set(o,s)}return a},e.getReorderSegments=H,e.getReorderedIndices=q,e.getReorderedString=function(e,t,r,n){var i=q(e,t,r,n),a=[].concat(e);return i.forEach(function(r,n){a[n]=(1&t.levels[r]?W(e[r]):null)||e[r]}),a.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}},3502:function(e,t,r){r.d(t,{Z:function(){return n}});function n(){return function(e){function t(e,t){for(var r,n,i,a,o,s=/([MLQCZ])([^MLQCZ]*)/g;r=s.exec(e);){var l=r[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(r[1]){case"M":a=n=l[0],o=i=l[1];break;case"L":(l[0]!==a||l[1]!==o)&&t("L",a,o,a=l[0],o=l[1]);break;case"Q":t("Q",a,o,a=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",a,o,a=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":(a!==n||o!==i)&&t("L",a,o,n,i)}}}function r(e,r,n){void 0===n&&(n=16);var i={x:0,y:0};t(e,function(e,t,a,o,s,l,u,c,d){switch(e){case"L":r(t,a,o,s);break;case"Q":for(var f=t,h=a,p=1;p<n;p++)!function(e,t,r,n,i,a,o,s){var l=1-o;s.x=l*l*e+2*l*o*r+o*o*i,s.y=l*l*t+2*l*o*n+o*o*a}(t,a,l,u,o,s,p/(n-1),i),r(f,h,i.x,i.y),f=i.x,h=i.y;break;case"C":for(var v=t,g=a,m=1;m<n;m++)!function(e,t,r,n,i,a,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*r+3*c*l*l*i+l*l*l*o,u.y=c*c*c*t+3*c*c*l*n+3*c*l*l*a+l*l*l*s}(t,a,l,u,c,d,o,s,m/(n-1),i),r(v,g,i.x,i.y),v=i.x,g=i.y}})}var n="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",i=new WeakMap,a={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function o(e,t){var r=e.getContext?e.getContext("webgl",a):e,n=i.get(r);if(!n){var o="undefined"!=typeof WebGL2RenderingContext&&r instanceof WebGL2RenderingContext,s={},l={},u={},c=-1,d=[];function f(e){var t=s[e];if(!t&&!(t=s[e]=r.getExtension(e)))throw Error(e+" not supported");return t}function h(e,t){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function p(){s={},l={},u={},c=-1,d.length=0}r.canvas.addEventListener("webglcontextlost",function(e){p(),e.preventDefault()},!1),i.set(r,n={gl:r,isWebGL2:o,getExtension:f,withProgram:function(e,t,n,i){if(!l[e]){var a={},s={},u=r.createProgram();r.attachShader(u,h(t,r.VERTEX_SHADER)),r.attachShader(u,h(n,r.FRAGMENT_SHADER)),r.linkProgram(u),l[e]={program:u,transaction:function(e){r.useProgram(u),e({setUniform:function(e,t){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var a=s[t]||(s[t]=r.getUniformLocation(u,t));r["uniform"+e].apply(r,[a].concat(n))},setAttribute:function(e,t,n,i,s){var l=a[e];l||(l=a[e]={buf:r.createBuffer(),loc:r.getAttribLocation(u,e),data:null}),r.bindBuffer(r.ARRAY_BUFFER,l.buf),r.vertexAttribPointer(l.loc,t,r.FLOAT,!1,0,0),r.enableVertexAttribArray(l.loc),o?r.vertexAttribDivisor(l.loc,i):f("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,i),s!==l.data&&(r.bufferData(r.ARRAY_BUFFER,s,n),l.data=s)}})}}}l[e].transaction(i)},withTexture:function(e,t){c++;try{r.activeTexture(r.TEXTURE0+c);var n=u[e];n||(n=u[e]=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)),r.bindTexture(r.TEXTURE_2D,n),t(n,c)}finally{c--}},withTextureFramebuffer:function(e,t,n){var i=r.createFramebuffer();d.push(i),r.bindFramebuffer(r.FRAMEBUFFER,i),r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);try{n(i)}finally{r.deleteFramebuffer(i),r.bindFramebuffer(r.FRAMEBUFFER,d[--d.length-1]||null)}},handleContextLoss:p})}t(n)}function s(e,t,r,i,a,s,l,u){void 0===l&&(l=15),void 0===u&&(u=null),o(e,function(e){var o=e.gl,c=e.withProgram;(0,e.withTexture)("copy",function(e,d){o.texImage2D(o.TEXTURE_2D,0,o.RGBA,a,s,0,o.RGBA,o.UNSIGNED_BYTE,t),c("copy",n,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,o.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",d),o.bindFramebuffer(o.FRAMEBUFFER,u||null),o.disable(o.BLEND),o.colorMask(8&l,4&l,2&l,1&l),o.viewport(r,i,a,s),o.scissor(r,i,a,s),o.drawArrays(o.TRIANGLES,0,3)})})})}var l=Object.freeze({__proto__:null,withWebGLContext:o,renderImageData:s,resizeWebGLCanvasWithoutClearing:function(e,t,r){var n=e.width,i=e.height;o(e,function(a){var o=a.gl,l=new Uint8Array(n*i*4);o.readPixels(0,0,n,i,o.RGBA,o.UNSIGNED_BYTE,l),e.width=t,e.height=r,s(o,l,0,0,n,i)})}});function u(e,t,n,i,a,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=i[2]-i[0],u=i[3]-i[1],c=[];r(n,function(e,t,r,n){c.push({x1:e,y1:t,x2:r,y2:n,minX:Math.min(e,r),minY:Math.min(t,n),maxX:Math.max(e,r),maxY:Math.max(t,n)})}),c.sort(function(e,t){return e.maxX-t.maxX});for(var d=0;d<e;d++)for(var f=0;f<t;f++){var h=function(e,t){for(var r=1/0,n=1/0,i=c.length;i--;){var a=c[i];if(a.maxX+n<=e)break;if(e+n>a.minX&&t-n<a.maxY&&t+n>a.minY){var o=function(e,t,r,n,i,a){var o=i-r,s=a-n,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-r)*o+(t-n)*s)/l)):0,c=e-(r+u*o),d=t-(n+u*s);return c*c+d*d}(e,t,a.x1,a.y1,a.x2,a.y2);o<r&&(n=Math.sqrt(r=o))}}return function(e,t){for(var r=0,n=c.length;n--;){var i=c[n];if(i.maxX<=e)break;i.y1>t!=i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(r+=i.y1<i.y2?1:-1)}return 0!==r}(e,t)&&(n=-n),n}(i[0]+l*(d+.5)/e,i[1]+u*(f+.5)/t),p=Math.pow(1-Math.abs(h)/a,o)/2;h<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),s[f*e+d]=p}return s}function c(e,t,r,n,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),d(e,t,r,n,i,a,o,null,s,l,u)}function d(e,t,r,n,i,a,o,l,c,d,f){void 0===a&&(a=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===f&&(f=0);for(var h=u(e,t,r,n,i,a),p=new Uint8Array(4*h.length),v=0;v<h.length;v++)p[4*v+f]=h[v];s(o,p,c,d,e,t,1<<3-f,l)}var f=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:c,generateIntoFramebuffer:d}),h=new Float32Array([0,0,2,0,0,2]),p=null,v=!1,g={},m=new WeakMap;function y(e){if(!v&&!x(e))throw Error("WebGL generation not supported")}function b(e,t,r,n,i,a,s){if(void 0===a&&(a=1),void 0===s&&(s=null),!s&&!(s=p)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!l)throw Error("OffscreenCanvas or DOM canvas not supported");s=p=l.getContext("webgl",{depth:!1})}y(s);var u=new Uint8Array(e*t*4);o(s,function(o){var s=o.gl,l=o.withTexture,c=o.withTextureFramebuffer;l("readable",function(o,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,l,function(o){_(e,t,r,n,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,u)})})});for(var c=new Uint8Array(e*t),d=0,f=0;d<u.length;d+=4)c[f++]=u[d];return c}function w(e,t,r,n,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),_(e,t,r,n,i,a,o,null,s,l,u)}function _(e,t,i,a,s,l,u,c,d,f,p){void 0===l&&(l=1),void 0===d&&(d=0),void 0===f&&(f=0),void 0===p&&(p=0),y(u);var v=[];r(i,function(e,t,r,n){v.push(e,t,r,n)}),v=new Float32Array(v),o(u,function(r){var i=r.gl,o=r.isWebGL2,u=r.getExtension,g=r.withProgram,m=r.withTexture,y=r.withTextureFramebuffer,b=r.handleContextLoss;if(m("rawDistances",function(r,m){(e!==r._lastWidth||t!==r._lastHeight)&&i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r._lastWidth=e,r._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),g("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(n){var c=n.setAttribute,d=n.setUniform,f=!o&&u("ANGLE_instanced_arrays"),p=!o&&u("EXT_blend_minmax");c("aUV",2,i.STATIC_DRAW,0,h),c("aLineSegment",4,i.DYNAMIC_DRAW,1,v),d.apply(void 0,["4f","uGlyphBounds"].concat(a)),d("1f","uMaxDistance",s),d("1f","uExponent",l),y(r,m,function(r){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,o?i.MAX:p.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),o?i.drawArraysInstanced(i.TRIANGLES,0,3,v.length/4):f.drawArraysInstancedANGLE(i.TRIANGLES,0,3,v.length/4)})}),g("post",n,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(r){r.setAttribute("aUV",2,i.STATIC_DRAW,0,h),r.setUniform("1i","tex",m),i.bindFramebuffer(i.FRAMEBUFFER,c),i.disable(i.BLEND),i.colorMask(0===p,1===p,2===p,3===p),i.viewport(d,f,e,t),i.scissor(d,f,e,t),i.drawArrays(i.TRIANGLES,0,3)})}),i.isContextLost())throw b(),Error("webgl context lost")})}function x(e){var t=e&&e!==p?e.canvas||e:g,r=m.get(t);if(void 0===r){v=!0;var n=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=b(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(r=a&&i.length===a.length&&a.every(function(e,t){return e===i[t]}))||(n="bad trial run results",console.info(i,a))}catch(e){r=!1,n=e.message}n&&console.warn("WebGL SDF generation not supported:",n),v=!1,m.set(t,r)}return r}var M=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:w,generateIntoFramebuffer:_,isSupported:x});return e.forEachPathCommand=t,e.generate=function(e,t,r,n,i,a){void 0===i&&(i=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===a&&(a=1);try{return b.apply(M,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(f,arguments)}},e.generateIntoCanvas=function(e,t,r,n,i,a,o,s,l,u){void 0===i&&(i=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return w.apply(M,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),c.apply(f,arguments)}},e.javascript=f,e.pathToLineSegments=r,e.webgl=M,e.webglUtils=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}}}]);