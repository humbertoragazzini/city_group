"use client";
import { ScrollScene, UseCanvas } from "@14islands/r3f-scroll-rig";
import { useRef } from "react";
import Triangle from "../../Mesh/Triangle/Triangle";

interface iGradientBG {
  className: string;
}

export default function GradientBG({ className }: iGradientBG) {
  const el = useRef<any>();
  const shperes = [
    [-0.294, -0.346, -0.79, 0.016, 2.348],
    [-0.554, 0.644, -2.554, 0.03, 2.808],
    [-0.347, -0.581, -0.187, 0.019, 2.629],
    [0.539, 0.429, -6.815, 0.011, 2.875],
    [-0.241, 0.433, -5.55, 0.003, 1.255],
    [-0.679, -0.661, -2.617, 0.018, 2.085],
    [0.681, 0.651, -1.459, 0.038, 1.758],
    [0.579, 0.513, -7.309, 0.036, 3.079],
    [-0.589, 0.027, -3.169, 0.027, 2.054],
    [-0.489, -0.089, -2.416, 0.011, 2.63],
    [-0.491, 0.654, -6.648, 0.002, 1.766],
    [0.183, 0.304, -4.638, 0.025, 0.487],
    [0.432, 0.47, -2.898, 0.001, 0.325],
    [0.24, -0.13, -5.818, 0.02, 2.087],
    [-0.054, 0.284, -3.723, 0.025, 2.833],
    [0.424, -0.264, -2.043, 0.024, 1.928],
    [0.557, 0.247, -4.063, 0.043, 0.402],
    [-0.686, 0.347, -6.416, 0.013, 0.093],
    [0.321, -0.28, -0.144, 0.044, 0.942],
    [-0.447, -0.435, -6.56, 0.036, 0.291],
    [-0.152, 0.451, -2.28, 0.047, 2.36],
    [0.19, -0.482, -1.319, 0.023, 2.304],
    [0.567, 0.067, -6.072, 0.002, 2.018],
    [0.384, -0.512, -0.539, 0.041, 1.747],
    [0.389, -0.061, -6.83, 0.024, 0.458],
    [0.584, 0.01, -6.395, 0.046, 1.798],
    [0.551, 0.207, -5.694, 0.009, 1.464],
    [-0.452, -0.351, -1.28, 0.045, 0.858],
    [-0.346, 0.631, -7.35, 0.048, 3.116],
    [-0.163, 0.321, -3.764, 0.02, 2.568],
    [-0.295, 0.401, -7.85, 0.04, 1.015],
    [0.427, 0.195, -6.822, 0.045, 0.434],
    [0.303, 0.582, -1.61, 0.05, 1.806],
    [-0.025, -0.162, -2.523, 0.012, 2.992],
    [0.055, -0.538, -8.953, 0.011, 1.329],
    [0.522, -0.353, -0.892, 0.034, 1.93],
    [-0.607, -0.156, -8.603, 0.049, 0.506],
    [0.407, 0.176, -2.439, 0.04, 0.36],
    [0.098, -0.015, -7.483, 0.014, 3.101],
    [-0.226, 0.699, -2.478, 0.041, 2.743],
    [-0.297, -0.351, -1.463, 0.018, 2.186],
    [0.398, -0.47, -4.116, 0.006, 0.404],
    [0.206, 0.408, -2.408, 0.03, 1.28],
    [-0.543, -0.633, -7.678, 0.001, 2.026],
    [-0.131, -0.258, -7.856, 0.001, 2.69],
    [0.675, -0.636, -7.981, 0.039, 0.938],
    [-0.442, -0.092, -5.373, 0.002, 1.83],
    [-0.49, -0.309, -1.441, 0.015, 0.796],
    [-0.117, 0.078, -3.064, 0.023, 1.736],
    [0.268, -0.227, -2.812, 0.023, 1.076],
    [-0.038, 0.486, -5.694, 0.018, 0.15],
    [-0.003, 0.046, -5.801, 0.045, 3.088],
    [-0.453, -0.353, -3.365, 0.039, 1.201],
    [-0.505, -0.501, -4.756, 0.046, 2.662],
    [0.524, -0.034, -6.408, 0.005, 2.313],
    [0.063, -0.082, -1.277, 0.024, 0.754],
    [0.222, 0.231, -5.734, 0.043, 1.38],
    [0.521, -0.32, -4.862, 0.042, 2.43],
    [0.298, 0.024, -6.172, 0.024, 3.047],
    [0.65, -0.082, -7.596, 0.033, 1.919],
    [-0.232, 0.096, -8.62, 0.021, 1.695],
    [-0.113, 0.698, -1.69, 0.021, 0.558],
    [0.438, 0.7, -2.586, 0.011, 0.225],
    [-0.381, -0.324, -7.986, 0.01, 2.699],
    [0.089, -0.264, -7.653, 0.013, 2.751],
    [0.17, 0.202, -2.69, 0.025, 0.066],
    [0.057, -0.558, -7.783, 0.006, 0.904],
    [0.526, 0.144, -3.933, 0.009, 1.998],
    [-0.005, 0.146, -3.387, 0.031, 0.036],
    [0.533, -0.2, -6.426, 0.024, 0.776],
    [-0.362, -0.195, -7.142, 0.004, 2.638],
    [0.663, 0.518, -1.219, 0.011, 0.46],
    [-0.686, -0.471, -3.182, 0.013, 2.308],
    [-0.534, -0.49, -5.078, 0.022, 1.737],
    [-0.04, 0.312, -5.946, 0.016, 1.461],
    [-0.163, 0.217, -0.765, 0.02, 2.266],
    [-0.51, -0.16, -8.012, 0.02, 0.698],
    [-0.155, -0.619, -3.6, 0.031, 0.451],
    [0.109, 0.557, -2.588, 0.04, 1.085],
    [-0.246, -0.501, -3.747, 0.02, 1.284],
    [-0.017, -0.227, -5.158, 0.004, 2.168],
    [-0.374, -0.111, -3.328, 0.03, 2.801],
    [0.607, -0.628, -8.87, 0.039, 2.551],
    [0.09, 0.679, -0.368, 0.034, 2.373],
    [0.418, 0.674, -1.681, 0.002, 0.877],
    [-0.01, 0.61, -7.563, 0.025, 1.522],
    [0.233, 0.405, -7.078, 0.02, 0.889],
    [-0.36, 0.306, -8.526, 0.047, 2.914],
    [-0.315, 0.498, -5.628, 0.038, 1.943],
    [-0.466, -0.057, -0.124, 0.041, 1.938],
    [-0.041, 0.188, -4.61, 0.041, 2.479],
    [0.391, 0.32, -3.206, 0.027, 1.079],
  ];

  return (
    <>
      <div ref={el} className={"w-full " + className}></div>
      <UseCanvas>
        <ScrollScene track={el}>
          {(props) => (
            <group {...props}>
              {shperes.map((sphere: any, i: any) => {
                return (
                  <mesh
                    position={[sphere[0], sphere[1], sphere[2] - 3]}
                    receiveShadow
                    castShadow
                    // scale={sphere[3]}
                    key={"mesh-" + i}
                    scale={0.01}
                  >
                    <Triangle
                      scale={1}
                      rotation={{
                        x: 0,
                        y: 0,
                        z: sphere[4],
                      }}
                    ></Triangle>
                  </mesh>
                );
              })}
            </group>
          )}
        </ScrollScene>
      </UseCanvas>
    </>
  );
}
